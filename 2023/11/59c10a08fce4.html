

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="http://qnpicmap.fcsluck.top/pics/202311162214229.png">
  <link rel="icon" href="http://qnpicmap.fcsluck.top/pics/202311162214229.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="fcs">
  <meta name="keywords" content="">
  
    <meta name="description" content="一些关于各种spring中间件和系统环境配置的教程">
<meta property="og:type" content="article">
<meta property="og:title" content="各种环境配置">
<meta property="og:url" content="https://alleyf.github.io/2023/11/59c10a08fce4.html">
<meta property="og:site_name" content="alleyf">
<meta property="og:description" content="一些关于各种spring中间件和系统环境配置的教程">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://picsum.photos/800/250">
<meta property="og:image" content="https://qnpicmap.fcsluck.top/pics/202311280029568.png">
<meta property="og:image" content="https://qnpicmap.fcsluck.top/pics/202311280030655.png">
<meta property="og:image" content="https://qnpicmap.fcsluck.top/pics/202312141347269.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/77ab18b281104c669546292d8ed4ac64.png">
<meta property="og:image" content="https://qnpicmap.fcsluck.top/pics/202312141356241.png">
<meta property="og:image" content="https://qnpicmap.fcsluck.top/pics/202312101238746.png">
<meta property="og:image" content="https://qnpicmap.fcsluck.top/pics/202312181916609.png">
<meta property="og:image" content="https://qnpicmap.fcsluck.top/pics/202311271638947.png">
<meta property="og:image" content="https://qnpicmap.fcsluck.top/pics/202311271638364.png">
<meta property="og:image" content="https://qnpicmap.fcsluck.top/pics/202311181541807.png">
<meta property="og:image" content="https://qnpicmap.fcsluck.top/pics/202311181541977.png">
<meta property="og:image" content="https://qnpicmap.fcsluck.top/pics/202311201527195.png">
<meta property="og:image" content="https://qnpicmap.fcsluck.top/pics/202311201526596.png">
<meta property="og:image" content="https://qnpicmap.fcsluck.top/pics/202311201533687.png">
<meta property="og:image" content="https://qnpicmap.fcsluck.top/pics/202311201535684.png">
<meta property="og:image" content="https://qnpicmap.fcsluck.top/pics/202311221729835.png">
<meta property="og:image" content="https://qnpicmap.fcsluck.top/pics/202312101120616.png">
<meta property="og:image" content="https://qnpicmap.fcsluck.top/pics/202312101118368.png">
<meta property="og:image" content="https://qnpicmap.fcsluck.top/pics/202312102334878.png">
<meta property="og:image" content="https://qnpicmap.fcsluck.top/pics/202312102334410.png">
<meta property="og:image" content="https://qnpicmap.fcsluck.top/pics/202312102335214.png">
<meta property="og:image" content="https://qnpicmap.fcsluck.top/pics/202312102340085.png">
<meta property="og:image" content="https://qnpicmap.fcsluck.top/pics/202311182136214.png">
<meta property="og:image" content="https://user-images.githubusercontent.com/9840435/60266022-72a82400-98e7-11e9-9958-f9004c2f97e1.gif">
<meta property="article:published_time" content="2023-11-18T06:53:11.000Z">
<meta property="article:modified_time" content="2024-02-20T16:20:51.228Z">
<meta property="article:author" content="alleyf">
<meta property="article:tag" content="java">
<meta property="article:tag" content="mysql">
<meta property="article:tag" content="nacos">
<meta property="article:tag" content="sentinel">
<meta property="article:tag" content="middleware">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://picsum.photos/800/250">
  
  
    <meta name="referrer" content="no-referrer-when-downgrade">
  
  
  <title>各种环境配置 - alleyf</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"alleyf.github.io","root":"/","version":"1.9.2","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":true,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":true,"follow_dnt":true,"baidu":"d57048846da607439cf11718741f2eb0","google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml"};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  

  
    <!-- Baidu Analytics -->
    <script async>
      if (!Fluid.ctx.dnt) {
        var _hmt = _hmt || [];
        (function() {
          var hm = document.createElement("script");
          hm.src = "https://hm.baidu.com/hm.js?d57048846da607439cf11718741f2eb0";
          var s = document.getElementsByTagName("script")[0];
          s.parentNode.insertBefore(hm, s);
        })();
      }
    </script>
  

  

  

  

  

  

  



  
<!-- hexo injector head_end start --><script> let HEXO_MMEDIA_DATA = { js: [], css: [], aplayerData: [], metingData: [], artPlayerData: [], dplayerData: []}; </script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.0.0"><link rel="alternate" href="/atom.xml" title="alleyf" type="application/atom+xml">
</head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Mr.Alleyf</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/gallery/">
                <i class="iconfont icon-images"></i>
                画廊
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/atom.xml">
                <i class="iconfont icon-rss"></i>
                RSS
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" target="_blank" rel="noopener" href="https://github.com/Alleyf">
                <i class="iconfont icon-github-fill"></i>
                Github
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                关于
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/links/">
                <i class="iconfont icon-link-fill"></i>
                友链
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              &nbsp;<i class="iconfont icon-search"></i>&nbsp;
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('https://api.likepoems.com/img/nature') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="各种环境配置"></span>
          
        </div>

        
          
  <div class="mt-3">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-author" aria-hidden="true"></i>
        fcs
      </span>
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2023-11-18 14:53" pubdate>
          2023年11月18日 下午
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          80k 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          664 分钟
        
      </span>
    

    
    
      
        <span id="busuanzi_container_page_pv" style="display: none">
          <i class="iconfont icon-eye" aria-hidden="true"></i>
          <span id="busuanzi_value_page_pv"></span> 次
        </span>
        
      
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">各种环境配置</h1>
            
              <p class="note note-info">
                
                  
                    本文最后更新于：18 分钟前
                  
                
              </p>
            
            
              <div class="markdown-body">
                
                <p><img src="https://picsum.photos/800/250" srcset="/img/loading.gif" lazyload></p>
<blockquote>
<p>一切安装启动的应用都要开启<strong>防火墙 TCP 端口和云服务商安全组规则</strong>才能访问。</p>
</blockquote>
<h1 id="Java"><a href="#Java" class="headerlink" title="Java"></a>Java</h1><p>安装 jdk：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">yum install java-1.8.0-openjdk<br></code></pre></td></tr></table></figure>

<p>查询 jdk 路径和名字：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-built_in">which</span> jdk<br></code></pre></td></tr></table></figure>

<p>环境变量设置(&#x2F;etc&#x2F;profile)：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs profiles">#set java environment<br>export JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.392.b08-2.el7_9.x86_64/jre<br>export JRE_HOME=$JAVA_HOME/jre<br>export CLASSPATH=$JAVA_HOME/lib:$JRE_HOME/lib:$CLASSPATH<br>export PATH=$JAVA_HOME/bin:$JRE_HOME/bin:$PATH<br></code></pre></td></tr></table></figure>

<p>刷新系统环境变量配置：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">source /etc/profile<br></code></pre></td></tr></table></figure>

<hr>
<h1 id="Mysql"><a href="#Mysql" class="headerlink" title="Mysql"></a>Mysql</h1><h2 id="Docker-部署"><a href="#Docker-部署" class="headerlink" title="Docker 部署"></a>Docker 部署</h2><ol>
<li>拉取 mysql 镜像<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">docker pull mysql:5.7<br></code></pre></td></tr></table></figure></li>
<li>配置外部文件用于卷挂载<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-built_in">mkdir</span> -p /data/mysql-1/conf <span class="hljs-comment">#-p:表示若无主目录则自动创建</span><br><span class="hljs-built_in">mkdir</span> -p /data/mysql-1/data<br><span class="hljs-built_in">mkdir</span> -p /data/mysql-1/log<br></code></pre></td></tr></table></figure></li>
<li>添加自定义配置文件 <code>my.cnf</code>（<em>主从模式，也可只部署一个 mysql，去掉主从相关的配置文件内容即可</em>）<br><strong>主机配置</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs cnf">[mysqld]  <br>## 同一局域网内注意要唯一 ,默认server-id=1，主从配置时主和从库必须不同 <br>server-id=1    <br>## 开启二进制日志功能，可以随便取（主从配置关键）  <br>log-bin=master-bin  <br>## 二级制日志格式，有三种 row，statement，mixed <br>binlog-format=ROW  <br>## 同步的数据库名称,如果不配置，表示同步所有的库<br>binlog-do-db=数据库名 <br>port=3306  <br>user=mysql  <br>character-set-server=utf8  <br>default_authentication_plugin=mysql_native_password  <br>secure_file_priv=/var/lib/mysql  <br>expire_logs_days=7  <br>sql_mode=STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION  <br>max_connections=1000  <br>lower_case_table_names = 0  <br>[client]  <br>default-character-set=utf8  <br>[mysql]  <br>default-character-set=utf8<br></code></pre></td></tr></table></figure></li>
</ol>
<p><strong>从机配置</strong></p>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-section">[mysqld]</span><br><span class="hljs-comment">## 设置server_id,注意要唯一</span><br><span class="hljs-attr">server-id</span>=<span class="hljs-number">2</span>  <br><span class="hljs-comment">## 开启二进制日志功能，以备Slave作为其它Slave的Master时使用</span><br><span class="hljs-attr">log-bin</span>=mysql-slave-bin   <br><span class="hljs-comment">## relay_log配置中继日志</span><br><span class="hljs-attr">relay_log</span>=mysql-relay-bin  <br><span class="hljs-attr">read_only</span>=<span class="hljs-number">1</span>  <span class="hljs-comment">## 设置为只读,该项如果不设置，表示slave可读可写</span><br><span class="hljs-attr">port</span>=<span class="hljs-number">3307</span>  <br><span class="hljs-attr">user</span>=mysql  <br><span class="hljs-attr">character-set-server</span>=utf8  <br><span class="hljs-attr">default_authentication_plugin</span>=mysql_native_password  <br><span class="hljs-attr">secure_file_priv</span>=/var/lib/mysql  <br><span class="hljs-attr">expire_logs_days</span>=<span class="hljs-number">7</span>  <br><span class="hljs-attr">sql_mode</span>=STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION  <br><span class="hljs-attr">max_connections</span>=<span class="hljs-number">1000</span>  <br><span class="hljs-attr">lower_case_table_names</span> = <span class="hljs-number">0</span>  <br><span class="hljs-section">[client]</span>  <br><span class="hljs-attr">default-character-set</span>=utf8  <br><span class="hljs-section">[mysql]</span>  <br><span class="hljs-attr">default-character-set</span>=utf8<br></code></pre></td></tr></table></figure>
<ol start="4">
<li>根据镜像和外部待挂载文件启动 mysql 容器实例<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">docker run -<span class="hljs-built_in">id</span> --name mysql-2 -p 3307:3307  -v /usr/local/docker/data/mysql2/conf/my.cnf:/etc/mysql/my.cnf -v /usr/local/docker/data/mysql2/data:/var/lib/mysql -v /usr/local/docker/data/mysql2/log:/var/log/mysql -e MYSQL_ROOT_PASSWORD=123456 -e MYSQL_TCP_PORT=3307 --restart=always --privileged=<span class="hljs-literal">true</span> mysql:5.7<br></code></pre></td></tr></table></figure></li>
</ol>
<p>此 docker run 命令的功能是:</p>
<ol>
<li>–name 指定容器名称为 mysql-2</li>
<li>-p 映射主机 3307 端口到容器 3307 端口,外部访问时用主机 3307 端口 </li>
<li>-v 挂载配置文件,-v &#x2F;data&#x2F;mysql2&#x2F;conf&#x2F;my.cnf:&#x2F;etc&#x2F;mysql&#x2F;my.cnf </li>
<li>-v 挂载数据文件,-v &#x2F;data&#x2F;mysql2&#x2F;data:&#x2F;var&#x2F;lib&#x2F;mysql</li>
<li>-v 挂载日志文件,-v &#x2F;data&#x2F;mysql2&#x2F;log:&#x2F;var&#x2F;log&#x2F;mysql</li>
<li>-e 设置环境变量 MYSQL_ROOT_PASSWORD 指定 root 用户密码为 123456</li>
<li>–restart&#x3D;always 设置容器重启策略为总是重启</li>
<li>–privileged&#x3D;true 使用特权模式运行容器</li>
<li>-d 后台方式运行容器</li>
<li>mysql:5.7 使用 MYSQL:5.7 镜像<br>整体功能是:<br>运行一个 MYSQL:5.7 容器,名称为 mysql-2,映射端口 3307,并将配置文件、数据文件和日志文件分别挂载为主机目录,设置 root 密码并开启特权模式和自动重启，可以实现数据持久化,并通过 3307 端口来管理该 mysql 服务。</li>
<li>修改 root 用户远程访问权限<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">alter</span> <span class="hljs-keyword">user</span> <span class="hljs-string">&#x27;root&#x27;</span>@<span class="hljs-string">&#x27;%&#x27;</span> identified <span class="hljs-keyword">with</span> mysql_native_password <span class="hljs-keyword">by</span> <span class="hljs-string">&#x27;123456&#x27;</span>; #修改为任何ip可远程访问<br>flush privileges; #刷新权限<br></code></pre></td></tr></table></figure></li>
<li>查看是否启动成功容器，并且支持远程访问<br><img src="https://qnpicmap.fcsluck.top/pics/202311280029568.png" srcset="/img/loading.gif" lazyload><br><img src="https://qnpicmap.fcsluck.top/pics/202311280030655.png" srcset="/img/loading.gif" lazyload></li>
</ol>
<hr>
<h1 id="Mongodb"><a href="#Mongodb" class="headerlink" title="Mongodb"></a>Mongodb</h1><ol>
<li><p>windows 下载安装 MongoDB<br>在 <a target="_blank" rel="noopener" href="https://www.mongodb.com/try/download/community">Download MongoDB Community Server | MongoDB</a> 下载需要的版本的 mongodb 并安装</p>
<p><img src="https://qnpicmap.fcsluck.top/pics/202312141347269.png" srcset="/img/loading.gif" lazyload alt="|500"></p>
<p><img src="https://img-blog.csdnimg.cn/77ab18b281104c669546292d8ed4ac64.png" srcset="/img/loading.gif" lazyload alt="|500"></p>
</li>
<li><p>创建 MongoDB 所需文件<br>在安装时指定的数据和日志目录下分别新建 <code>db</code> 文件夹和 <code>mongodb.log</code> 文件</p>
</li>
<li><p>配置环境变量<br>在 Powershell 中执行以下命令添加 mongodb 用户环境变量：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sh">[System.Environment]::SetEnvironmentVariable(<span class="hljs-string">&quot;PATH&quot;</span>,<span class="hljs-variable">$env</span>:path+<span class="hljs-string">&quot;;C:\Program Files\MongoDB\Server\7.0\bin&quot;</span>,[System.EnvironmentVariableTarget]::User) <span class="hljs-comment">#设置用户环境变量</span><br><span class="hljs-built_in">echo</span> %Path%  <span class="hljs-comment">#刷新环境变量</span><br></code></pre></td></tr></table></figure></li>
<li><p>修改 mongod.cfg 配置<br>修改 <code>mongod.cfg</code> 关于数据和日志存储的相关配置：</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs yml"><span class="hljs-comment"># Where and how to store data.</span><br><span class="hljs-attr">storage:</span><br>  <span class="hljs-attr">dbPath:</span> <span class="hljs-string">E:\MongoDB\Server\7.0\data\db</span><br><span class="hljs-comment"># where to write logging data.</span><br><span class="hljs-attr">systemLog:</span><br>  <span class="hljs-attr">destination:</span> <span class="hljs-string">file</span><br>  <span class="hljs-attr">logAppend:</span> <span class="hljs-literal">true</span><br>  <span class="hljs-attr">path:</span>  <span class="hljs-string">E:\MongoDB\Server\7.0\log\mongod.log</span><br><span class="hljs-comment"># network interfaces</span><br><span class="hljs-attr">net:</span><br>  <span class="hljs-attr">port:</span> <span class="hljs-number">27017</span><br>  <span class="hljs-attr">bindIp:</span> <span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span><br></code></pre></td></tr></table></figure></li>
<li><p>安装 windows 服务，开机自启动 mongodb</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sh">mongod --dbpath <span class="hljs-string">&quot;E:\MongoDB\Server\5.0\data\db&quot;</span> --logpath <span class="hljs-string">&quot;E:\MongoDB\Server\5.0\log\mongod.log&quot;</span> --install --serviceName <span class="hljs-string">&quot;MongoDB5.3&quot;</span> --serviceDisplayName <span class="hljs-string">&quot;MongoDB5.3&quot;</span> <span class="hljs-comment">#安装低版本mongodb服务自启动，需要管理员身份打开命令行</span><br>mongod --config <span class="hljs-string">&quot;C:\Program Files\MongoDB\Server\7.0\bin\mongod.cfg&quot;</span> <span class="hljs-comment">#手动启动不安装服务自启动</span><br>mongod --config <span class="hljs-string">&quot;C:\Program Files\MongoDB\Server\7.0\bin\mongod.cfg&quot;</span> --install --serviceName <span class="hljs-string">&quot;MongoDB&quot;</span> --serviceDisplayName <span class="hljs-string">&quot;MongoDB&quot;</span> <span class="hljs-comment">#安装windows服务开机自启动，可以设置手动模式，通过 net start MongoDB 命令手动启动</span><br></code></pre></td></tr></table></figure></li>
</ol>
<p><img src="https://qnpicmap.fcsluck.top/pics/202312141356241.png" srcset="/img/loading.gif" lazyload alt="|600"></p>
<hr>
<h1 id="Nginx"><a href="#Nginx" class="headerlink" title="Nginx"></a>Nginx</h1><h2 id="Docker-部署-Nginx"><a href="#Docker-部署-Nginx" class="headerlink" title="Docker 部署 Nginx"></a>Docker 部署 Nginx</h2><h3 id="拉取镜像"><a href="#拉取镜像" class="headerlink" title="拉取镜像"></a>拉取镜像</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sh">docker pull nginx<br>docker pull nginx:1.23 <span class="hljs-comment">#指定版本为1.23</span><br></code></pre></td></tr></table></figure>
<h3 id="伪启动"><a href="#伪启动" class="headerlink" title="伪启动"></a>伪启动</h3><p>临时启动 nginx 容器，复制配置文件到主机</p>
<p>切换到 <code>/home/ecs-user/mdware</code> 目录下，创建 <code>nginx</code> 目录，在 nginx 目录中保存配置文件相关信息。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-built_in">mkdir</span> nginx<br>docker run --name nginx -p 80:80 -d nginx<br>docker <span class="hljs-built_in">cp</span> nginx:/etc/nginx/nginx.conf /home/ecs-user/mdware/nginx/<br>docker <span class="hljs-built_in">cp</span> nginx:/etc/nginx/conf.d/ /home/ecs-user/mdware/nginx/conf/<br>docker <span class="hljs-built_in">cp</span> nginx:/usr/share/nginx/html/ /home/ecs-user/mdware/nginx/html/<br>docker <span class="hljs-built_in">cp</span> nginx:/var/log/nginx/ /home/ecs-user/mdware/nginx/logs/<br></code></pre></td></tr></table></figure>

<p>停止删除临时 nginx 容器</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sh">docker stop nginx<br>docker <span class="hljs-built_in">rm</span> nginx<br></code></pre></td></tr></table></figure>
<h3 id="实启动"><a href="#实启动" class="headerlink" title="实启动"></a>实启动</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs sh">docker run -p 8081:80 \<br>-v /home/ecs-user/mdware/nginx/nginx.conf:/etc/nginx/nginx.conf \<br>-v /home/ecs-user/mdware/nginx/logs:/var/log/nginx \<br>-v /home/ecs-user/mdware/nginx/html:/usr/share/nginx/html \<br>-v /home/ecs-user/mdware/nginx/conf:/etc/nginx/conf.d \<br>-v /etc/localtime:/etc/localtime \<br>--name nginx \<br>--restart=always \<br>-d nginx<br></code></pre></td></tr></table></figure>

<p>验证 nginx 是否运行成功：</p>
<p><img src="https://qnpicmap.fcsluck.top/pics/202312101238746.png" srcset="/img/loading.gif" lazyload></p>
<hr>
<h1 id="Redis"><a href="#Redis" class="headerlink" title="Redis"></a>Redis</h1><p>要安装和部署 Redis，你可以按照以下步骤进行操作：</p>
<ul>
<li>官网地址： https:&#x2F;redis.io </li>
<li>GitHub Windows 版本维护地址： https:&#x2F;github.com&#x2F;tporadowski&#x2F;redis&#x2F;releases</li>
</ul>
<p>要在 Windows 上安装和使用 Redis，您可以按照以下步骤操作：</p>
<ol>
<li>从 Redis 官方网站（ <a target="_blank" rel="noopener" href="https://redis.io/download">https://redis.io/download</a> ）下载最新版本的 Redis 压缩包。</li>
<li>将压缩包解压到您想要安装 Redis 的目录。</li>
<li>在 Redis 目录中找到 redis.windows.conf 文件，并将其重命名为 redis.conf。</li>
<li>打开 redis.conf 文件，并找到 <code># bind 127.0.0.1</code> 这一行，将其前面的注释符号“#”去掉，这样可以允许远程访问 Redis。</li>
<li>打开命令提示符窗口（cmd）并导航到 Redis 目录。</li>
<li>运行命令 <code>redis-server.exe redis.conf</code> 启动 Redis 服务器。</li>
<li>另外打开一个命令提示符窗口，并导航到 Redis 目录。</li>
<li>运行命令 <code>redis-cli.exe</code> 连接到正在运行的 Redis 服务器。</li>
</ol>
<ul>
<li>windows 对 redis 服务指令：<ol>
<li>卸载服务：<code>redis-server --service-uninstall</code></li>
<li>开启服务：<code>redis-server --service-start</code></li>
<li>停止服务：<code>redis-server --service-stop</code></li>
</ol>
</li>
</ul>
<blockquote>
<p>现在您已经成功安装和连接到 Redis 服务器。您可以使用 redis-cli 命令行工具来执行各种操作，例如设置键值对、获取值、删除键等。</p>
</blockquote>
<h2 id="Docker-安装-Redis"><a href="#Docker-安装-Redis" class="headerlink" title="Docker 安装 Redis"></a>Docker 安装 Redis</h2><ol>
<li>拉取镜像<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">docker pull redis:5.0.14<br></code></pre></td></tr></table></figure></li>
<li>创建挂载文件<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-built_in">mkdir</span> -p redis/config<br></code></pre></td></tr></table></figure></li>
<li>编写配置文件<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br><span class="line">656</span><br><span class="line">657</span><br><span class="line">658</span><br><span class="line">659</span><br><span class="line">660</span><br><span class="line">661</span><br><span class="line">662</span><br><span class="line">663</span><br><span class="line">664</span><br><span class="line">665</span><br><span class="line">666</span><br><span class="line">667</span><br><span class="line">668</span><br><span class="line">669</span><br><span class="line">670</span><br><span class="line">671</span><br><span class="line">672</span><br><span class="line">673</span><br><span class="line">674</span><br><span class="line">675</span><br><span class="line">676</span><br><span class="line">677</span><br><span class="line">678</span><br><span class="line">679</span><br><span class="line">680</span><br><span class="line">681</span><br><span class="line">682</span><br><span class="line">683</span><br><span class="line">684</span><br><span class="line">685</span><br><span class="line">686</span><br><span class="line">687</span><br><span class="line">688</span><br><span class="line">689</span><br><span class="line">690</span><br><span class="line">691</span><br><span class="line">692</span><br><span class="line">693</span><br><span class="line">694</span><br><span class="line">695</span><br><span class="line">696</span><br><span class="line">697</span><br><span class="line">698</span><br><span class="line">699</span><br><span class="line">700</span><br><span class="line">701</span><br><span class="line">702</span><br><span class="line">703</span><br><span class="line">704</span><br><span class="line">705</span><br><span class="line">706</span><br><span class="line">707</span><br><span class="line">708</span><br><span class="line">709</span><br><span class="line">710</span><br><span class="line">711</span><br><span class="line">712</span><br><span class="line">713</span><br><span class="line">714</span><br><span class="line">715</span><br><span class="line">716</span><br><span class="line">717</span><br><span class="line">718</span><br><span class="line">719</span><br><span class="line">720</span><br><span class="line">721</span><br><span class="line">722</span><br><span class="line">723</span><br><span class="line">724</span><br><span class="line">725</span><br><span class="line">726</span><br><span class="line">727</span><br><span class="line">728</span><br><span class="line">729</span><br><span class="line">730</span><br><span class="line">731</span><br><span class="line">732</span><br><span class="line">733</span><br><span class="line">734</span><br><span class="line">735</span><br><span class="line">736</span><br><span class="line">737</span><br><span class="line">738</span><br><span class="line">739</span><br><span class="line">740</span><br><span class="line">741</span><br><span class="line">742</span><br><span class="line">743</span><br><span class="line">744</span><br><span class="line">745</span><br><span class="line">746</span><br><span class="line">747</span><br><span class="line">748</span><br><span class="line">749</span><br><span class="line">750</span><br><span class="line">751</span><br><span class="line">752</span><br><span class="line">753</span><br><span class="line">754</span><br><span class="line">755</span><br><span class="line">756</span><br><span class="line">757</span><br><span class="line">758</span><br><span class="line">759</span><br><span class="line">760</span><br><span class="line">761</span><br><span class="line">762</span><br><span class="line">763</span><br><span class="line">764</span><br><span class="line">765</span><br><span class="line">766</span><br><span class="line">767</span><br><span class="line">768</span><br><span class="line">769</span><br><span class="line">770</span><br><span class="line">771</span><br><span class="line">772</span><br><span class="line">773</span><br><span class="line">774</span><br><span class="line">775</span><br><span class="line">776</span><br><span class="line">777</span><br><span class="line">778</span><br><span class="line">779</span><br><span class="line">780</span><br><span class="line">781</span><br><span class="line">782</span><br><span class="line">783</span><br><span class="line">784</span><br><span class="line">785</span><br><span class="line">786</span><br><span class="line">787</span><br><span class="line">788</span><br><span class="line">789</span><br><span class="line">790</span><br><span class="line">791</span><br><span class="line">792</span><br><span class="line">793</span><br><span class="line">794</span><br><span class="line">795</span><br><span class="line">796</span><br><span class="line">797</span><br><span class="line">798</span><br><span class="line">799</span><br><span class="line">800</span><br><span class="line">801</span><br><span class="line">802</span><br><span class="line">803</span><br><span class="line">804</span><br><span class="line">805</span><br><span class="line">806</span><br><span class="line">807</span><br><span class="line">808</span><br><span class="line">809</span><br><span class="line">810</span><br><span class="line">811</span><br><span class="line">812</span><br><span class="line">813</span><br><span class="line">814</span><br><span class="line">815</span><br><span class="line">816</span><br><span class="line">817</span><br><span class="line">818</span><br><span class="line">819</span><br><span class="line">820</span><br><span class="line">821</span><br><span class="line">822</span><br><span class="line">823</span><br><span class="line">824</span><br><span class="line">825</span><br><span class="line">826</span><br><span class="line">827</span><br><span class="line">828</span><br><span class="line">829</span><br><span class="line">830</span><br><span class="line">831</span><br><span class="line">832</span><br><span class="line">833</span><br><span class="line">834</span><br><span class="line">835</span><br><span class="line">836</span><br><span class="line">837</span><br><span class="line">838</span><br><span class="line">839</span><br><span class="line">840</span><br><span class="line">841</span><br><span class="line">842</span><br><span class="line">843</span><br><span class="line">844</span><br><span class="line">845</span><br></pre></td><td class="code"><pre><code class="hljs config"># Accept connections on the specified port, default is 6379.<br># If port 0 is specified Redis will not listen on a TCP socket.<br>port 6379<br># TCP listen() backlog.<br>#<br># In high requests-per-second environments you need an high backlog in order<br># to avoid slow clients connections issues. Note that the Linux kernel<br># will silently truncate it to the value of /proc/sys/net/core/somaxconn so<br># make sure to raise both the value of somaxconn and tcp_max_syn_backlog<br># in order to get the desired effect.<br>tcp-backlog 511<br># By default Redis listens for connections from all the network interfaces<br># available on the server. It is possible to listen to just one or multiple<br># interfaces using the &quot;bind&quot; configuration directive, followed by one or<br># more IP addresses.<br>#<br># Examples:<br>#<br># bind 192.168.1.100 10.0.0.1<br># bind 127.0.0.1<br># Specify the path for the Unix socket that will be used to listen for<br># incoming connections. There is no default, so Redis will not listen<br># on a unix socket when not specified.<br>#<br># unixsocket /tmp/redis.sock<br># unixsocketperm 700<br># Close the connection after a client is idle for N seconds (0 to disable)<br>timeout 0<br># TCP keepalive.<br>#<br># If non-zero, use SO_KEEPALIVE to send TCP ACKs to clients in absence<br># of communication. This is useful for two reasons:<br>#<br># 1) Detect dead peers.<br># 2) Take the connection alive from the point of view of network<br>#    equipment in the middle.<br>#<br># On Linux, the specified value (in seconds) is the period used to send ACKs.<br># Note that to close the connection the double of the time is needed.<br># On other kernels the period depends on the kernel configuration.<br>#<br># A reasonable value for this option is 60 seconds.<br>tcp-keepalive 0<br># Specify the server verbosity level.<br># This can be one of:<br># debug (a lot of information, useful for development/testing)<br># verbose (many rarely useful info, but not a mess like the debug level)<br># notice (moderately verbose, what you want in production probably)<br># warning (only very important / critical messages are logged)<br>loglevel notice<br># Specify the log file name. Also &#x27;stdout&#x27; can be used to force<br># Redis to log on the standard output. <br>logfile &quot;&quot;<br># To enable logging to the Windows EventLog, just set &#x27;syslog-enabled&#x27; to <br># yes, and optionally update the other syslog parameters to suit your needs.<br># If Redis is installed and launched as a Windows Service, this will <br># automatically be enabled.<br># syslog-enabled no<br># Specify the source name of the events in the Windows Application log.<br># syslog-ident redis<br># Set the number of databases. The default database is DB 0, you can select<br># a different one on a per-connection basis using SELECT &lt;dbid&gt; where<br># dbid is a number between 0 and &#x27;databases&#x27;-1<br>databases 16<br>################################ SNAPSHOTTING  ################################<br>#<br># Save the DB on disk:<br>#<br>#   save &lt;seconds&gt; &lt;changes&gt;<br>#<br>#   Will save the DB if both the given number of seconds and the given<br>#   number of write operations against the DB occurred.<br>#<br>#   In the example below the behaviour will be to save:<br>#   after 900 sec (15 min) if at least 1 key changed<br>#   after 300 sec (5 min) if at least 10 keys changed<br>#   after 60 sec if at least 10000 keys changed<br>#<br>#   Note: you can disable saving completely by commenting out all &quot;save&quot; lines.<br>#<br>#   It is also possible to remove all the previously configured save<br>#   points by adding a save directive with a single empty string argument<br>#   like in the following example:<br>#<br>#   save &quot;&quot;<br>save 900 1<br>save 300 10<br>save 60 10000<br># By default Redis will stop accepting writes if RDB snapshots are enabled<br># (at least one save point) and the latest background save failed.<br># This will make the user aware (in a hard way) that data is not persisting<br># on disk properly, otherwise chances are that no one will notice and some<br># disaster will happen.<br>#<br># If the background saving process will start working again Redis will<br># automatically allow writes again.<br>#<br># However if you have setup your proper monitoring of the Redis server<br># and persistence, you may want to disable this feature so that Redis will<br># continue to work as usual even if there are problems with disk,<br># permissions, and so forth.<br>stop-writes-on-bgsave-error yes<br># Compress string objects using LZF when dump .rdb databases?<br># For default that&#x27;s set to &#x27;yes&#x27; as it&#x27;s almost always a win.<br># If you want to save some CPU in the saving child set it to &#x27;no&#x27; but<br># the dataset will likely be bigger if you have compressible values or keys.<br>rdbcompression yes<br># Since version 5 of RDB a CRC64 checksum is placed at the end of the file.<br># This makes the format more resistant to corruption but there is a performance<br># hit to pay (around 10%) when saving and loading RDB files, so you can disable it<br># for maximum performances.<br>#<br># RDB files created with checksum disabled have a checksum of zero that will<br># tell the loading code to skip the check.<br>rdbchecksum yes<br># The filename where to dump the DB<br>dbfilename dump.rdb<br># The working directory.<br>#<br># The DB will be written inside this directory, with the filename specified<br># above using the &#x27;dbfilename&#x27; configuration directive.<br># <br># The Append Only File will also be created inside this directory.<br># <br># Note that you must specify a directory here, not a file name.<br>dir ./<br>################################# REPLICATION #################################<br># Master-Slave replication. Use slaveof to make a Redis instance a copy of<br># another Redis server. A few things to understand ASAP about Redis replication.<br>#<br># 1) Redis replication is asynchronous, but you can configure a master to<br>#    stop accepting writes if it appears to be not connected with at least<br>#    a given number of slaves.<br># 2) Redis slaves are able to perform a partial resynchronization with the<br>#    master if the replication link is lost for a relatively small amount of<br>#    time. You may want to configure the replication backlog size (see the next<br>#    sections of this file) with a sensible value depending on your needs.<br># 3) Replication is automatic and does not need user intervention. After a<br>#    network partition slaves automatically try to reconnect to masters<br>#    and resynchronize with them.<br>#<br># slaveof &lt;masterip&gt; &lt;masterport&gt;<br># If the master is password protected (using the &quot;requirepass&quot; configuration<br># directive below) it is possible to tell the slave to authenticate before<br># starting the replication synchronization process, otherwise the master will<br># refuse the slave request.<br>#<br># masterauth &lt;master-password&gt;<br># When a slave loses its connection with the master, or when the replication<br># is still in progress, the slave can act in two different ways:<br>#<br># 1) if slave-serve-stale-data is set to &#x27;yes&#x27; (the default) the slave will<br>#    still reply to client requests, possibly with out of date data, or the<br>#    data set may just be empty if this is the first synchronization.<br>#<br># 2) if slave-serve-stale-data is set to &#x27;no&#x27; the slave will reply with<br>#    an error &quot;SYNC with master in progress&quot; to all the kind of commands<br>#    but to INFO and SLAVEOF.<br>#<br>slave-serve-stale-data yes<br># You can configure a slave instance to accept writes or not. Writing against<br># a slave instance may be useful to store some ephemeral data (because data<br># written on a slave will be easily deleted after resync with the master) but<br># may also cause problems if clients are writing to it because of a<br># misconfiguration.<br>#<br># Since Redis 2.6 by default slaves are read-only.<br>#<br># Note: read only slaves are not designed to be exposed to untrusted clients<br># on the internet. It&#x27;s just a protection layer against misuse of the instance.<br># Still a read only slave exports by default all the administrative commands<br># such as CONFIG, DEBUG, and so forth. To a limited extent you can improve<br># security of read only slaves using &#x27;rename-command&#x27; to shadow all the<br># administrative / dangerous commands.<br>slave-read-only yes<br># Replication SYNC strategy: disk or socket.<br>#<br># -------------------------------------------------------<br># WARNING: DISKLESS REPLICATION IS EXPERIMENTAL CURRENTLY<br># -------------------------------------------------------<br>#<br># New slaves and reconnecting slaves that are not able to continue the replication<br># process just receiving differences, need to do what is called a &quot;full<br># synchronization&quot;. An RDB file is transmitted from the master to the slaves.<br># The transmission can happen in two different ways:<br>#<br># 1) Disk-backed: The Redis master creates a new process that writes the RDB<br>#                 file on disk. Later the file is transferred by the parent<br>#                 process to the slaves incrementally.<br># 2) Diskless: The Redis master creates a new process that directly writes the<br>#              RDB file to slave sockets, without touching the disk at all.<br>#<br># With disk-backed replication, while the RDB file is generated, more slaves<br># can be queued and served with the RDB file as soon as the current child producing<br># the RDB file finishes its work. With diskless replication instead once<br># the transfer starts, new slaves arriving will be queued and a new transfer<br># will start when the current one terminates.<br>#<br># When diskless replication is used, the master waits a configurable amount of<br># time (in seconds) before starting the transfer in the hope that multiple slaves<br># will arrive and the transfer can be parallelized.<br>#<br># With slow disks and fast (large bandwidth) networks, diskless replication<br># works better.<br>repl-diskless-sync no<br># When diskless replication is enabled, it is possible to configure the delay<br># the server waits in order to spawn the child that transfers the RDB via socket<br># to the slaves.<br>#<br># This is important since once the transfer starts, it is not possible to serve<br># new slaves arriving, that will be queued for the next RDB transfer, so the server<br># waits a delay in order to let more slaves arrive.<br>#<br># The delay is specified in seconds, and by default is 5 seconds. To disable<br># it entirely just set it to 0 seconds and the transfer will start ASAP.<br>repl-diskless-sync-delay 5<br># Slaves send PINGs to server in a predefined interval. It&#x27;s possible to change<br># this interval with the repl_ping_slave_period option. The default value is 10<br># seconds.<br>#<br># repl-ping-slave-period 10<br># The following option sets the replication timeout for:<br>#<br># 1) Bulk transfer I/O during SYNC, from the point of view of slave.<br># 2) Master timeout from the point of view of slaves (data, pings).<br># 3) Slave timeout from the point of view of masters (REPLCONF ACK pings).<br>#<br># It is important to make sure that this value is greater than the value<br># specified for repl-ping-slave-period otherwise a timeout will be detected<br># every time there is low traffic between the master and the slave.<br>#<br># repl-timeout 60<br># Disable TCP_NODELAY on the slave socket after SYNC?<br>#<br># If you select &quot;yes&quot; Redis will use a smaller number of TCP packets and<br># less bandwidth to send data to slaves. But this can add a delay for<br># the data to appear on the slave side, up to 40 milliseconds with<br># Linux kernels using a default configuration.<br>#<br># If you select &quot;no&quot; the delay for data to appear on the slave side will<br># be reduced but more bandwidth will be used for replication.<br>#<br># By default we optimize for low latency, but in very high traffic conditions<br># or when the master and slaves are many hops away, turning this to &quot;yes&quot; may<br># be a good idea.<br>repl-disable-tcp-nodelay no<br># Set the replication backlog size. The backlog is a buffer that accumulates<br># slave data when slaves are disconnected for some time, so that when a slave<br># wants to reconnect again, often a full resync is not needed, but a partial<br># resync is enough, just passing the portion of data the slave missed while<br># disconnected.<br>#<br># The bigger the replication backlog, the longer the time the slave can be<br># disconnected and later be able to perform a partial resynchronization.<br>#<br># The backlog is only allocated once there is at least a slave connected.<br>#<br># repl-backlog-size 1mb<br># After a master has no longer connected slaves for some time, the backlog<br># will be freed. The following option configures the amount of seconds that<br># need to elapse, starting from the time the last slave disconnected, for<br># the backlog buffer to be freed.<br>#<br># A value of 0 means to never release the backlog.<br>#<br># repl-backlog-ttl 3600<br># The slave priority is an integer number published by Redis in the INFO output.<br># It is used by Redis Sentinel in order to select a slave to promote into a<br># master if the master is no longer working correctly.<br>#<br># A slave with a low priority number is considered better for promotion, so<br># for instance if there are three slaves with priority 10, 100, 25 Sentinel will<br># pick the one with priority 10, that is the lowest.<br>#<br># However a special priority of 0 marks the slave as not able to perform the<br># role of master, so a slave with priority of 0 will never be selected by<br># Redis Sentinel for promotion.<br>#<br># By default the priority is 100.<br>slave-priority 100<br># It is possible for a master to stop accepting writes if there are less than<br># N slaves connected, having a lag less or equal than M seconds.<br>#<br># The N slaves need to be in &quot;online&quot; state.<br>#<br># The lag in seconds, that must be &lt;= the specified value, is calculated from<br># the last ping received from the slave, that is usually sent every second.<br>#<br># This option does not GUARANTEE that N replicas will accept the write, but<br># will limit the window of exposure for lost writes in case not enough slaves<br># are available, to the specified number of seconds.<br>#<br># For example to require at least 3 slaves with a lag &lt;= 10 seconds use:<br>#<br># min-slaves-to-write 3<br># min-slaves-max-lag 10<br>#<br># Setting one or the other to 0 disables the feature.<br>#<br># By default min-slaves-to-write is set to 0 (feature disabled) and<br># min-slaves-max-lag is set to 10.<br>################################## SECURITY ###################################<br># Require clients to issue AUTH &lt;PASSWORD&gt; before processing any other<br># commands.  This might be useful in environments in which you do not trust<br># others with access to the host running redis-server.<br>#<br># This should stay commented out for backward compatibility and because most<br># people do not need auth (e.g. they run their own servers).<br># <br># Warning: since Redis is pretty fast an outside user can try up to<br># 150k passwords per second against a good box. This means that you should<br># use a very strong password otherwise it will be very easy to break.<br>#<br># requirepass foobared<br># Command renaming.<br>#<br># It is possible to change the name of dangerous commands in a shared<br># environment. For instance the CONFIG command may be renamed into something<br># hard to guess so that it will still be available for internal-use tools<br># but not available for general clients.<br>#<br># Example:<br>#<br># rename-command CONFIG b840fc02d524045429941cc15f59e41cb7be6c52<br>#<br># It is also possible to completely kill a command by renaming it into<br># an empty string:<br>#<br># rename-command CONFIG &quot;&quot;<br>#<br># Please note that changing the name of commands that are logged into the<br># AOF file or transmitted to slaves may cause problems.<br>################################### LIMITS ####################################<br># Set the max number of connected clients at the same time. By default<br># this limit is set to 10000 clients, however if the Redis server is not<br># able to configure the process file limit to allow for the specified limit<br># the max number of allowed clients is set to the current file limit<br># minus 32 (as Redis reserves a few file descriptors for internal uses).<br>#<br># Once the limit is reached Redis will close all the new connections sending<br># an error &#x27;max number of clients reached&#x27;.<br>#<br># maxclients 10000<br># If Redis is to be used as an in-memory-only cache without any kind of<br># persistence, then the fork() mechanism used by the background AOF/RDB<br># persistence is unnecessary. As an optimization, all persistence can be<br># turned off in the Windows version of Redis. This will redirect heap<br># allocations to the system heap allocator, and disable commands that would<br># otherwise cause fork() operations: BGSAVE and BGREWRITEAOF.<br># This flag may not be combined with any of the other flags that configure<br># AOF and RDB operations.<br># persistence-available [(yes)|no]<br># Don&#x27;t use more memory than the specified amount of bytes.<br># When the memory limit is reached Redis will try to remove keys<br># according to the eviction policy selected (see maxmemory-policy).<br>#<br># If Redis can&#x27;t remove keys according to the policy, or if the policy is<br># set to &#x27;noeviction&#x27;, Redis will start to reply with errors to commands<br># that would use more memory, like SET, LPUSH, and so on, and will continue<br># to reply to read-only commands like GET.<br>#<br># This option is usually useful when using Redis as an LRU cache, or to set<br># a hard memory limit for an instance (using the &#x27;noeviction&#x27; policy).<br>#<br># WARNING: If you have slaves attached to an instance with maxmemory on,<br># the size of the output buffers needed to feed the slaves are subtracted<br># from the used memory count, so that network problems / resyncs will<br># not trigger a loop where keys are evicted, and in turn the output<br># buffer of slaves is full with DELs of keys evicted triggering the deletion<br># of more keys, and so forth until the database is completely emptied.<br>#<br># In short... if you have slaves attached it is suggested that you set a lower<br># limit for maxmemory so that there is some free RAM on the system for slave<br># output buffers (but this is not needed if the policy is &#x27;noeviction&#x27;).<br>#<br># WARNING: not setting maxmemory will cause Redis to terminate with an<br># out-of-memory exception if the heap limit is reached.<br>#<br># NOTE: since Redis uses the system paging file to allocate the heap memory,<br># the Working Set memory usage showed by the Windows Task Manager or by other<br># tools such as ProcessExplorer will not always be accurate. For example, right<br># after a background save of the RDB or the AOF files, the working set value<br># may drop significantly. In order to check the correct amount of memory used<br># by the redis-server to store the data, use the INFO client command. The INFO<br># command shows only the memory used to store the redis data, not the extra<br># memory used by the Windows process for its own requirements. Th3 extra amount<br># of memory not reported by the INFO command can be calculated subtracting the<br># Peak Working Set reported by the Windows Task Manager and the used_memory_peak<br># reported by the INFO command.<br>#<br># maxmemory &lt;bytes&gt;<br># MAXMEMORY POLICY: how Redis will select what to remove when maxmemory<br># is reached. You can select among five behaviors:<br># <br># volatile-lru -&gt; remove the key with an expire set using an LRU algorithm<br># allkeys-lru -&gt; remove any key according to the LRU algorithm<br># volatile-random -&gt; remove a random key with an expire set<br># allkeys-random -&gt; remove a random key, any key<br># volatile-ttl -&gt; remove the key with the nearest expire time (minor TTL)<br># noeviction -&gt; don&#x27;t expire at all, just return an error on write operations<br># <br># Note: with any of the above policies, Redis will return an error on write<br>#       operations, when there are no suitable keys for eviction.<br>#<br>#       At the date of writing these commands are: set setnx setex append<br>#       incr decr rpush lpush rpushx lpushx linsert lset rpoplpush sadd<br>#       sinter sinterstore sunion sunionstore sdiff sdiffstore zadd zincrby<br>#       zunionstore zinterstore hset hsetnx hmset hincrby incrby decrby<br>#       getset mset msetnx exec sort<br>#<br># The default is:<br>#<br># maxmemory-policy noeviction<br># LRU and minimal TTL algorithms are not precise algorithms but approximated<br># algorithms (in order to save memory), so you can select as well the sample<br># size to check. For instance for default Redis will check three keys and<br># pick the one that was used less recently, you can change the sample size<br># using the following configuration directive.<br>#<br># maxmemory-samples 3<br>############################## APPEND ONLY MODE ###############################<br># By default Redis asynchronously dumps the dataset on disk. This mode is<br># good enough in many applications, but an issue with the Redis process or<br># a power outage may result into a few minutes of writes lost (depending on<br># the configured save points).<br>#<br># The Append Only File is an alternative persistence mode that provides<br># much better durability. For instance using the default data fsync policy<br># (see later in the config file) Redis can lose just one second of writes in a<br># dramatic event like a server power outage, or a single write if something<br># wrong with the Redis process itself happens, but the operating system is<br># still running correctly.<br>#<br># AOF and RDB persistence can be enabled at the same time without problems.<br># If the AOF is enabled on startup Redis will load the AOF, that is the file<br># with the better durability guarantees.<br>#<br># Please check http://redis.io/topics/persistence for more information.<br>appendonly no<br># The name of the append only file (default: &quot;appendonly.aof&quot;)<br>appendfilename &quot;appendonly.aof&quot;<br># The fsync() call tells the Operating System to actually write data on disk<br># instead of waiting for more data in the output buffer. Some OS will really flush<br># data on disk, some other OS will just try to do it ASAP.<br>#<br># Redis supports three different modes:<br>#<br># no: don&#x27;t fsync, just let the OS flush the data when it wants. Faster.<br># always: fsync after every write to the append only log . Slow, Safest.<br># everysec: fsync only one time every second. Compromise.<br>#<br># The default is &quot;everysec&quot;, as that&#x27;s usually the right compromise between<br># speed and data safety. It&#x27;s up to you to understand if you can relax this to<br># &quot;no&quot; that will let the operating system flush the output buffer when<br># it wants, for better performances (but if you can live with the idea of<br># some data loss consider the default persistence mode that&#x27;s snapshotting),<br># or on the contrary, use &quot;always&quot; that&#x27;s very slow but a bit safer than<br># everysec.<br>#<br># More details please check the following article:<br># http://antirez.com/post/redis-persistence-demystified.html<br>#<br># If unsure, use &quot;everysec&quot;.<br># appendfsync always<br>appendfsync everysec<br># appendfsync no<br># When the AOF fsync policy is set to always or everysec, and a background<br># saving process (a background save or AOF log background rewriting) is<br># performing a lot of I/O against the disk, in some Linux configurations<br># Redis may block too long on the fsync() call. Note that there is no fix for<br># this currently, as even performing fsync in a different thread will block<br># our synchronous write(2) call.<br>#<br># In order to mitigate this problem it&#x27;s possible to use the following option<br># that will prevent fsync() from being called in the main process while a<br># BGSAVE or BGREWRITEAOF is in progress.<br>#<br># This means that while another child is saving, the durability of Redis is<br># the same as &quot;appendfsync none&quot;. In practical terms, this means that it is<br># possible to lose up to 30 seconds of log in the worst scenario (with the<br># default Linux settings).<br># <br># If you have latency problems turn this to &quot;yes&quot;. Otherwise leave it as<br># &quot;no&quot; that is the safest pick from the point of view of durability.<br>no-appendfsync-on-rewrite no<br># Automatic rewrite of the append only file.<br># Redis is able to automatically rewrite the log file implicitly calling<br># BGREWRITEAOF when the AOF log size grows by the specified percentage.<br># <br># This is how it works: Redis remembers the size of the AOF file after the<br># latest rewrite (if no rewrite has happened since the restart, the size of<br># the AOF at startup is used).<br>#<br># This base size is compared to the current size. If the current size is<br># bigger than the specified percentage, the rewrite is triggered. Also<br># you need to specify a minimal size for the AOF file to be rewritten, this<br># is useful to avoid rewriting the AOF file even if the percentage increase<br># is reached but it is still pretty small.<br>#<br># Specify a percentage of zero in order to disable the automatic AOF<br># rewrite feature.<br>auto-aof-rewrite-percentage 100<br>auto-aof-rewrite-min-size 64mb<br># An AOF file may be found to be truncated at the end during the Redis<br># startup process, when the AOF data gets loaded back into memory.<br># This may happen when the system where Redis is running<br># crashes, especially when an ext4 filesystem is mounted without the<br># data=ordered option (however this can&#x27;t happen when Redis itself<br># crashes or aborts but the operating system still works correctly).<br>#<br># Redis can either exit with an error when this happens, or load as much<br># data as possible (the default now) and start if the AOF file is found<br># to be truncated at the end. The following option controls this behavior.<br>#<br># If aof-load-truncated is set to yes, a truncated AOF file is loaded and<br># the Redis server starts emitting a log to inform the user of the event.<br># Otherwise if the option is set to no, the server aborts with an error<br># and refuses to start. When the option is set to no, the user requires<br># to fix the AOF file using the &quot;redis-check-aof&quot; utility before to restart<br># the server.<br>#<br># Note that if the AOF file will be found to be corrupted in the middle<br># the server will still exit with an error. This option only applies when<br># Redis will try to read more data from the AOF file but not enough bytes<br># will be found.<br>aof-load-truncated yes<br>################################ LUA SCRIPTING  ###############################<br># Max execution time of a Lua script in milliseconds.<br>#<br># If the maximum execution time is reached Redis will log that a script is<br># still in execution after the maximum allowed time and will start to<br># reply to queries with an error.<br>#<br># When a long running script exceeds the maximum execution time only the<br># SCRIPT KILL and SHUTDOWN NOSAVE commands are available. The first can be<br># used to stop a script that did not yet called write commands. The second<br># is the only way to shut down the server in the case a write command was<br># already issued by the script but the user doesn&#x27;t want to wait for the natural<br># termination of the script.<br>#<br># Set it to 0 or a negative value for unlimited execution without warnings.<br>lua-time-limit 5000<br>################################ REDIS CLUSTER  ###############################<br>#<br># ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++<br># WARNING EXPERIMENTAL: Redis Cluster is considered to be stable code, however<br># in order to mark it as &quot;mature&quot; we need to wait for a non trivial percentage<br># of users to deploy it in production.<br># ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++<br>#<br># Normal Redis instances can&#x27;t be part of a Redis Cluster; only nodes that are<br># started as cluster nodes can. In order to start a Redis instance as a<br># cluster node enable the cluster support uncommenting the following:<br>#<br># cluster-enabled yes<br># Every cluster node has a cluster configuration file. This file is not<br># intended to be edited by hand. It is created and updated by Redis nodes.<br># Every Redis Cluster node requires a different cluster configuration file.<br># Make sure that instances running in the same system do not have<br># overlapping cluster configuration file names.<br>#<br># cluster-config-file nodes-6379.conf<br># Cluster node timeout is the amount of milliseconds a node must be unreachable<br># for it to be considered in failure state.<br># Most other internal time limits are multiple of the node timeout.<br>#<br># cluster-node-timeout 15000<br># A slave of a failing master will avoid to start a failover if its data<br># looks too old.<br>#<br># There is no simple way for a slave to actually have a exact measure of<br># its &quot;data age&quot;, so the following two checks are performed:<br>#<br># 1) If there are multiple slaves able to failover, they exchange messages<br>#    in order to try to give an advantage to the slave with the best<br>#    replication offset (more data from the master processed).<br>#    Slaves will try to get their rank by offset, and apply to the start<br>#    of the failover a delay proportional to their rank.<br>#<br># 2) Every single slave computes the time of the last interaction with<br>#    its master. This can be the last ping or command received (if the master<br>#    is still in the &quot;connected&quot; state), or the time that elapsed since the<br>#    disconnection with the master (if the replication link is currently down).<br>#    If the last interaction is too old, the slave will not try to failover<br>#    at all.<br>#<br># The point &quot;2&quot; can be tuned by user. Specifically a slave will not perform<br># the failover if, since the last interaction with the master, the time<br># elapsed is greater than:<br>#<br>#   (node-timeout * slave-validity-factor) + repl-ping-slave-period<br>#<br># So for example if node-timeout is 30 seconds, and the slave-validity-factor<br># is 10, and assuming a default repl-ping-slave-period of 10 seconds, the<br># slave will not try to failover if it was not able to talk with the master<br># for longer than 310 seconds.<br>#<br># A large slave-validity-factor may allow slaves with too old data to failover<br># a master, while a too small value may prevent the cluster from being able to<br># elect a slave at all.<br>#<br># For maximum availability, it is possible to set the slave-validity-factor<br># to a value of 0, which means, that slaves will always try to failover the<br># master regardless of the last time they interacted with the master.<br># (However they&#x27;ll always try to apply a delay proportional to their<br># offset rank).<br>#<br># Zero is the only value able to guarantee that when all the partitions heal<br># the cluster will always be able to continue.<br>#<br># cluster-slave-validity-factor 10<br># Cluster slaves are able to migrate to orphaned masters, that are masters<br># that are left without working slaves. This improves the cluster ability<br># to resist to failures as otherwise an orphaned master can&#x27;t be failed over<br># in case of failure if it has no working slaves.<br>#<br># Slaves migrate to orphaned masters only if there are still at least a<br># given number of other working slaves for their old master. This number<br># is the &quot;migration barrier&quot;. A migration barrier of 1 means that a slave<br># will migrate only if there is at least 1 other working slave for its master<br># and so forth. It usually reflects the number of slaves you want for every<br># master in your cluster.<br>#<br># Default is 1 (slaves migrate only if their masters remain with at least<br># one slave). To disable migration just set it to a very large value.<br># A value of 0 can be set but is useful only for debugging and dangerous<br># in production.<br>#<br># cluster-migration-barrier 1<br># By default Redis Cluster nodes stop accepting queries if they detect there<br># is at least an hash slot uncovered (no available node is serving it).<br># This way if the cluster is partially down (for example a range of hash slots<br># are no longer covered) all the cluster becomes, eventually, unavailable.<br># It automatically returns available as soon as all the slots are covered again.<br>#<br># However sometimes you want the subset of the cluster which is working,<br># to continue to accept queries for the part of the key space that is still<br># covered. In order to do so, just set the cluster-require-full-coverage<br># option to no.<br>#<br># cluster-require-full-coverage yes<br># In order to setup your cluster make sure to read the documentation<br># available at http://redis.io web site.<br>################################## SLOW LOG ###################################<br># The Redis Slow Log is a system to log queries that exceeded a specified<br># execution time. The execution time does not include the I/O operations<br># like talking with the client, sending the reply and so forth,<br># but just the time needed to actually execute the command (this is the only<br># stage of command execution where the thread is blocked and can not serve<br># other requests in the meantime).<br># <br># You can configure the slow log with two parameters: one tells Redis<br># what is the execution time, in microseconds, to exceed in order for the<br># command to get logged, and the other parameter is the length of the<br># slow log. When a new command is logged the oldest one is removed from the<br># queue of logged commands.<br># The following time is expressed in microseconds, so 1000000 is equivalent<br># to one second. Note that a negative number disables the slow log, while<br># a value of zero forces the logging of every command.<br>slowlog-log-slower-than 10000<br># There is no limit to this length. Just be aware that it will consume memory.<br># You can reclaim memory used by the slow log with SLOWLOG RESET.<br>slowlog-max-len 128<br>################################ LATENCY MONITOR ##############################<br># The Redis latency monitoring subsystem samples different operations<br># at runtime in order to collect data related to possible sources of<br># latency of a Redis instance.<br>#<br># Via the LATENCY command this information is available to the user that can<br># print graphs and obtain reports.<br>#<br># The system only logs operations that were performed in a time equal or<br># greater than the amount of milliseconds specified via the<br># latency-monitor-threshold configuration directive. When its value is set<br># to zero, the latency monitor is turned off.<br>#<br># By default latency monitoring is disabled since it is mostly not needed<br># if you don&#x27;t have latency issues, and collecting data has a performance<br># impact, that while very small, can be measured under big load. Latency<br># monitoring can easily be enabled at runtime using the command<br># &quot;CONFIG SET latency-monitor-threshold &lt;milliseconds&gt;&quot; if needed.<br>latency-monitor-threshold 0<br>############################# Event notification ##############################<br># Redis can notify Pub/Sub clients about events happening in the key space.<br># This feature is documented at http://redis.io/topics/notifications<br>#<br># For instance if keyspace events notification is enabled, and a client<br># performs a DEL operation on key &quot;foo&quot; stored in the Database 0, two<br># messages will be published via Pub/Sub:<br>#<br># PUBLISH __keyspace@0__:foo del<br># PUBLISH __keyevent@0__:del foo<br>#<br># It is possible to select the events that Redis will notify among a set<br># of classes. Every class is identified by a single character:<br>#<br>#  K     Keyspace events, published with __keyspace@&lt;db&gt;__ prefix.<br>#  E     Keyevent events, published with __keyevent@&lt;db&gt;__ prefix.<br>#  g     Generic commands (non-type specific) like DEL, EXPIRE, RENAME, ...<br>#  $     String commands<br>#  l     List commands<br>#  s     Set commands<br>#  h     Hash commands<br>#  z     Sorted set commands<br>#  x     Expired events (events generated every time a key expires)<br>#  e     Evicted events (events generated when a key is evicted for maxmemory)<br>#  A     Alias for g$lshzxe, so that the &quot;AKE&quot; string means all the events.<br>#<br>#  The &quot;notify-keyspace-events&quot; takes as argument a string that is composed<br>#  of zero or multiple characters. The empty string means that notifications<br>#  are disabled.<br>#<br>#  Example: to enable list and generic events, from the point of view of the<br>#           event name, use:<br>#<br>#  notify-keyspace-events Elg<br>#<br>#  Example 2: to get the stream of the expired keys subscribing to channel<br>#             name __keyevent@0__:expired use:<br>#<br>#  notify-keyspace-events Ex<br>#<br>#  By default all notifications are disabled because most users don&#x27;t need<br>#  this feature and the feature has some overhead. Note that if you don&#x27;t<br>#  specify at least one of K or E, no events will be delivered.<br>notify-keyspace-events &quot;&quot;<br>############################### ADVANCED CONFIG ###############################<br># Hashes are encoded using a memory efficient data structure when they have a<br># small number of entries, and the biggest entry does not exceed a given<br># threshold. These thresholds can be configured using the following directives.<br>hash-max-ziplist-entries 512<br>hash-max-ziplist-value 64<br># Similarly to hashes, small lists are also encoded in a special way in order<br># to save a lot of space. The special representation is only used when<br># you are under the following limits:<br>list-max-ziplist-entries 512<br>list-max-ziplist-value 64<br># Sets have a special encoding in just one case: when a set is composed<br># of just strings that happen to be integers in radix 10 in the range<br># of 64 bit signed integers.<br># The following configuration setting sets the limit in the size of the<br># set in order to use this special memory saving encoding.<br>set-max-intset-entries 512<br># Similarly to hashes and lists, sorted sets are also specially encoded in<br># order to save a lot of space. This encoding is only used when the length and<br># elements of a sorted set are below the following limits:<br>zset-max-ziplist-entries 128<br>zset-max-ziplist-value 64<br># HyperLogLog sparse representation bytes limit. The limit includes the<br># 16 bytes header. When an HyperLogLog using the sparse representation crosses<br># this limit, it is converted into the dense representation.<br>#<br># A value greater than 16000 is totally useless, since at that point the<br># dense representation is more memory efficient.<br>#<br># The suggested value is ~ 3000 in order to have the benefits of<br># the space efficient encoding without slowing down too much PFADD,<br># which is O(N) with the sparse encoding. The value can be raised to<br># ~ 10000 when CPU is not a concern, but space is, and the data set is<br># composed of many HyperLogLogs with cardinality in the 0 - 15000 range.<br>hll-sparse-max-bytes 3000<br># Active rehashing uses 1 millisecond every 100 milliseconds of CPU time in<br># order to help rehashing the main Redis hash table (the one mapping top-level<br># keys to values). The hash table implementation Redis uses (see dict.c)<br># performs a lazy rehashing: the more operation you run into a hash table<br># that is rehashing, the more rehashing &quot;steps&quot; are performed, so if the<br># server is idle the rehashing is never complete and some more memory is used<br># by the hash table.<br># <br># The default is to use this millisecond 10 times every second in order to<br># actively rehash the main dictionaries, freeing memory when possible.<br>#<br># If unsure:<br># use &quot;activerehashing no&quot; if you have hard latency requirements and it is<br># not a good thing in your environment that Redis can reply from time to time<br># to queries with 2 milliseconds delay.<br>#<br># use &quot;activerehashing yes&quot; if you don&#x27;t have such hard requirements but<br># want to free memory asap when possible.<br>activerehashing yes<br># The client output buffer limits can be used to force disconnection of clients<br># that are not reading data from the server fast enough for some reason (a<br># common reason is that a Pub/Sub client can&#x27;t consume messages as fast as the<br># publisher can produce them).<br>#<br># The limit can be set differently for the three different classes of clients:<br>#<br># normal -&gt; normal clients including MONITOR clients<br># slave  -&gt; slave clients<br># pubsub -&gt; clients subscribed to at least one pubsub channel or pattern<br>#<br># The syntax of every client-output-buffer-limit directive is the following:<br>#<br># client-output-buffer-limit &lt;class&gt; &lt;hard limit&gt; &lt;soft limit&gt; &lt;soft seconds&gt;<br>#<br># A client is immediately disconnected once the hard limit is reached, or if<br># the soft limit is reached and remains reached for the specified number of<br># seconds (continuously).<br># So for instance if the hard limit is 32 megabytes and the soft limit is<br># 16 megabytes / 10 seconds, the client will get disconnected immediately<br># if the size of the output buffers reach 32 megabytes, but will also get<br># disconnected if the client reaches 16 megabytes and continuously overcomes<br># the limit for 10 seconds.<br>#<br># By default normal clients are not limited because they don&#x27;t receive data<br># without asking (in a push way), but just after a request, so only<br># asynchronous clients may create a scenario where data is requested faster<br># than it can read.<br>#<br># Instead there is a default limit for pubsub and slave clients, since<br># subscribers and slaves receive data in a push fashion.<br>#<br># Both the hard or the soft limit can be disabled by setting them to zero.<br>client-output-buffer-limit normal 0 0 0<br>client-output-buffer-limit slave 256mb 64mb 60<br>client-output-buffer-limit pubsub 32mb 8mb 60<br># Redis calls an internal function to perform many background tasks, like<br># closing connections of clients in timeot, purging expired keys that are<br># never requested, and so forth.<br>#<br># Not all tasks are perforemd with the same frequency, but Redis checks for<br># tasks to perform according to the specified &quot;hz&quot; value.<br>#<br># By default &quot;hz&quot; is set to 10. Raising the value will use more CPU when<br># Redis is idle, but at the same time will make Redis more responsive when<br># there are many keys expiring at the same time, and timeouts may be<br># handled with more precision.<br>#<br># The range is between 1 and 500, however a value over 100 is usually not<br># a good idea. Most users should use the default of 10 and raise this up to<br># 100 only in environments where very low latency is required.<br>hz 10<br># When a child rewrites the AOF file, if the following option is enabled<br># the file will be fsync-ed every 32 MB of data generated. This is useful<br># in order to commit the file to the disk more incrementally and avoid<br># big latency spikes.<br>aof-rewrite-incremental-fsync yes<br>################################## INCLUDES ###################################<br># Include one or more other config files here.  This is useful if you<br># have a standard template that goes to all Redis server but also need<br># to customize a few per-server settings.  Include files can include<br># other files, so use this wisely.<br>#<br># include /path/to/local.conf<br># include /path/to/other.conf<br></code></pre></td></tr></table></figure></li>
<li>启动redis容器<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">docker run --name redis -p 6379:6379 -v /home/ecs-user/mdware/redis/config/redis.conf:/usr/local/etc/redis/redis.conf -d redis:5.0.14<br></code></pre></td></tr></table></figure></li>
<li>设置密码便于远程连接<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs conf">#在redis.conf文件中添加密码配置<br>requirepass password（123456）<br></code></pre></td></tr></table></figure></li>
</ol>
<p>修改配置后需要重新启动容器 <code>docker restart redis</code> 后，即可远程连接：</p>
<p><img src="https://qnpicmap.fcsluck.top/pics/202312181916609.png" srcset="/img/loading.gif" lazyload></p>
<hr>
<h1 id="Docker"><a href="#Docker" class="headerlink" title="Docker"></a>Docker</h1><h2 id="1-安装指南"><a href="#1-安装指南" class="headerlink" title="1.安装指南"></a>1.安装指南</h2><ol>
<li>查看系统内核<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-built_in">uname</span> -r<br></code></pre></td></tr></table></figure></li>
</ol>
<p>在安装 <a target="_blank" rel="noopener" href="https://cloud.tencent.com/product/tke?from_column=20065&from=20065">Docker</a> 之前，首先要检查系统内核是否满足要求，Centos7 Linux 内核：官方建议 3.10 以上，3.8 以上貌似也可。</p>
<blockquote>
<p>注意：本文的命令使用的是 root 用户登录执行，不是 root 的话所有命令前面要加 <code>sudo</code></p>
</blockquote>
<ol start="2">
<li>使用 root 权限更新 yum 包（生产环境中此步操作需慎重，学习环境可随意）<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sh">yum -y update <span class="hljs-comment">#升级所有包同时也升级软件和系统内核；​ </span><br>yum -y upgrade <span class="hljs-comment">#只升级所有包，不升级软件和系统内核</span><br></code></pre></td></tr></table></figure></li>
<li>卸载旧版本（之前安装过）<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs sh">yum erase docker \<br>                  docker-client \<br>                  docker-client-latest \<br>                  docker-common \<br>                  docker-latest \<br>                  docker-latest-logrotate \<br>                  docker-logrotate \<br>                  docker-selinux \<br>                  docker-engine-selinux \<br>                  docker-engine \<br>                  docker-ce<br></code></pre></td></tr></table></figure></li>
<li>安装 docker 依赖<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">yum install -y yum-utils device-mapper-persistent-data lvm2<br></code></pre></td></tr></table></figure></li>
<li>设置 yum 源（以下两个都可用）<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sh">yum-config-manager --add-repo http://download.docker.com/linux/centos/docker-ce.repo（中央仓库）<br>yum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo（阿里仓库）<br></code></pre></td></tr></table></figure></li>
<li>检索 docker 可用版本<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">yum list docker-ce --showduplicates | <span class="hljs-built_in">sort</span> -r<br></code></pre></td></tr></table></figure></li>
<li>安装指定版本<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sh">yum -y install docker-ce-18.03.1.ce<br><span class="hljs-comment">#直接安装最新版</span><br>yum install docker-ce -y<br></code></pre></td></tr></table></figure></li>
</ol>
<p>安装成功样图：</p>
<p><img src="https://qnpicmap.fcsluck.top/pics/202311271638947.png" srcset="/img/loading.gif" lazyload></p>
<ol start="8">
<li>启动 docker 并设置开机自启</li>
</ol>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sh">systemctl start docker<br>systemctl <span class="hljs-built_in">enable</span> docker<br></code></pre></td></tr></table></figure>

<p><img src="https://qnpicmap.fcsluck.top/pics/202311271638364.png" srcset="/img/loading.gif" lazyload></p>
<ol start="9">
<li>配置国内镜像源</li>
</ol>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs sh">第一步：新建或编辑daemon.json<br>vi /etc/docker/daemon.json<br>第二步：daemon.json中编辑如下<br>&#123;<br>    <span class="hljs-string">&quot;registry-mirrors&quot;</span>: [<span class="hljs-string">&quot;http://hub-mirror.c.163.com&quot;</span>]<br>&#125;<br>第三步：重启docker<br>systemctl restart docker.service<br>第四步：执行docker info查看是否修改成功<br>docker info<br></code></pre></td></tr></table></figure>
<h2 id="2-常见指令"><a href="#2-常见指令" class="headerlink" title="2.常见指令"></a>2.常见指令</h2><h3 id="查询远程镜像"><a href="#查询远程镜像" class="headerlink" title="查询远程镜像"></a>查询远程镜像</h3><p>查询远程 Docker 仓库镜像的主要命令和参数包括:</p>
<p><code>1. docker search 关键词</code></p>
<p>在 Docker Hub 上搜索镜像,支持分页显示等参数。</p>
<p><code>2. docker search --limit=n 关键词</code></p>
<p>限制搜索结果数量。</p>
<p><code>3. docker search -f 字段=值关键词</code></p>
<p>按字段过滤搜索结果。</p>
<p><code>4. docker search --automated=true 关键词</code> </p>
<p>仅搜索自动构建镜像。</p>
<p><code>5. docker search --no-trunc 关键词</code></p>
<p>输出完整的镜像描述。</p>
<p><code>6. docker search -s 星级关键词</code></p>
<p>按照仓库星级排列结果。</p>
<p><code>7. docker search --help</code></p>
<p>获取 docker search 支持的参数帮助。</p>
<p><code>8. docker inspect 镜像名</code></p>
<p>查看远程镜像详细信息。</p>
<p><code>9. docker pull 镜像[:标签]</code> </p>
<p>从 Docker Hub 拉取指定镜像。</p>
<p><code>10. docker pull -a</code></p>
<p>拉取所有 tagged 镜像及其历史版本。</p>
<p><code>11. docker pull --help</code></p>
<p>获取 docker pull 支持的参数帮助。</p>
<h3 id="查询本地镜像"><a href="#查询本地镜像" class="headerlink" title="查询本地镜像"></a>查询本地镜像</h3><p>Docker 查询镜像的主要命令和参数包括:</p>
<p><code>1. docker images</code></p>
<p>查看所有本地镜像,默认列出所有镜像。</p>
<p><code>2. docker images -q</code></p>
<p>只输出镜像 ID,不显示其他信息。</p>
<p><code>3. docker images --filter=since=xxx</code> </p>
<p>过滤出指定时间后创建的镜像。</p>
<p><code>4. docker images -f dangling=true</code></p>
<p>查询悬空镜像(即未被使用的镜像)。 </p>
<p><code>5. docker images -a</code></p>
<p>显示所有镜像,包括中间层镜像。</p>
<p><code>6. docker images --digests</code> </p>
<p>显示镜像的摘要信息。</p>
<p><code>7. docker images name</code></p>
<p>查找指定名称的镜像。</p>
<p><code>8. docker images --no-trunc</code></p>
<p>显示完整的镜像名称。</p>
<p><code>9. docker image inspect image</code></p>
<p>查看镜像的详细配置信息。</p>
<h3 id="操作容器实例"><a href="#操作容器实例" class="headerlink" title="操作容器实例"></a>操作容器实例</h3><h4 id="进入容器实例内部"><a href="#进入容器实例内部" class="headerlink" title="进入容器实例内部"></a>进入容器实例内部</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">docker <span class="hljs-built_in">exec</span> -it 容器ID/容器名 bash<br></code></pre></td></tr></table></figure>
<h4 id="从容器内拷贝文件到主机上"><a href="#从容器内拷贝文件到主机上" class="headerlink" title="从容器内拷贝文件到主机上"></a>从容器内拷贝文件到主机上</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">docker <span class="hljs-built_in">cp</span> 容器ID/容器名:容器内文件路径 目标主机路径<br></code></pre></td></tr></table></figure>
<h4 id="停止-删除容器"><a href="#停止-删除容器" class="headerlink" title="停止&#x2F;删除容器"></a>停止&#x2F;删除容器</h4><p>要停止并删除所有 Docker 容器,可以使用以下命令:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">docker stop $(docker ps -aq)<br></code></pre></td></tr></table></figure>

<p>这个命令会:</p>
<ul>
<li>docker ps -aq:查询所有正在运行的容器的 ID 并以空白隔开</li>
<li>$(docker ps -aq):执行上述查询并将结果作为子命令的参数</li>
<li>docker stop:停止参数列出的所有容器<br>停止完容器后,可以使用以下命令删除所有容器:<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">docker <span class="hljs-built_in">rm</span> $(docker ps -aq)<br></code></pre></td></tr></table></figure></li>
</ul>
<p>或者使用以下单行命令直接停止并删除:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">docker stop $(docker ps -aq) &amp;&amp; docker <span class="hljs-built_in">rm</span> $(docker ps -aq)<br></code></pre></td></tr></table></figure>

<p>还有其他方法:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">docker ps -a -q | xargs docker <span class="hljs-built_in">rm</span><br></code></pre></td></tr></table></figure>

<p>或者:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">docker container stop $(docker container <span class="hljs-built_in">ls</span> -aq) &amp;&amp; \<br>docker container <span class="hljs-built_in">rm</span> $(docker container <span class="hljs-built_in">ls</span> -aq)<br></code></pre></td></tr></table></figure>

<p>以上命令都可以很方便地停止并删除本地所有的 Docker 容器。选择其中一个按需使用即可。</p>
<p>另外,也可以使用 docker system prune 命令进行整理,一次性清理未使用的镜像、网络、数据卷等资源。</p>
<h4 id="查看容器详细信息"><a href="#查看容器详细信息" class="headerlink" title="查看容器详细信息"></a>查看容器详细信息</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">docker inspect 容器ID<br></code></pre></td></tr></table></figure>
<h4 id="查看-Docker-的-Ip-地址信息"><a href="#查看-Docker-的-Ip-地址信息" class="headerlink" title="查看 Docker 的 Ip 地址信息"></a>查看 Docker 的 Ip 地址信息</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">ip addr show docker0<br></code></pre></td></tr></table></figure>

<hr>
<h1 id="Docker-Compose"><a href="#Docker-Compose" class="headerlink" title="Docker-Compose"></a>Docker-Compose</h1><h2 id="下载-Docker-compose"><a href="#下载-Docker-compose" class="headerlink" title="下载 Docker-compose"></a>下载 Docker-compose</h2><p>下载 docker-compose 到 &#x2F;usr&#x2F;local&#x2F;bin 中</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">curl/wget https://github.com/docker/compose/releases/download/v2.23.0/docker-compose-linux-x86_64 <span class="hljs-comment">#后续版本更新可自由切换为需要的docker-compose版本的url</span><br></code></pre></td></tr></table></figure>
<h2 id="授权"><a href="#授权" class="headerlink" title="授权"></a>授权</h2><p>授予 docker-compose 文件权限</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-built_in">chmod</span> +x /usr/local/bin/docker-compose<br></code></pre></td></tr></table></figure>
<h2 id="查看版本"><a href="#查看版本" class="headerlink" title="查看版本"></a>查看版本</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">docker-compose -v <br></code></pre></td></tr></table></figure>
<h2 id="创建软连接"><a href="#创建软连接" class="headerlink" title="创建软连接"></a>创建软连接</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo <span class="hljs-built_in">ln</span> -s /usr/local/bin/docker-compose /usr/bin/docker-compose<br></code></pre></td></tr></table></figure>

<hr>
<h1 id="Nacos"><a href="#Nacos" class="headerlink" title="Nacos"></a>Nacos</h1><h3 id="本地直接部署"><a href="#本地直接部署" class="headerlink" title="本地直接部署"></a>本地直接部署</h3><ol>
<li>下载 nacos 压缩包</li>
<li>解压并修改配置文件（单点 or 集群）<br><code>application.properties：</code><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs properties"><span class="hljs-comment">#*************** Spring Boot Related Configurations ***************#</span><br><span class="hljs-comment">### Default web context path:</span><br><span class="hljs-attr">server.servlet.contextPath</span>=<span class="hljs-string">/nacos</span><br><span class="hljs-comment">### Include message field</span><br><span class="hljs-attr">server.error.include-message</span>=<span class="hljs-string">ALWAYS</span><br><span class="hljs-comment">### Default web server port:</span><br><span class="hljs-attr">server.port</span>=<span class="hljs-string">8848</span><br><span class="hljs-comment">#*************** Network Related Configurations ***************#</span><br><span class="hljs-comment">### If prefer hostname over ip for Nacos server addresses in cluster.conf:</span><br><span class="hljs-comment"># nacos.inetutils.prefer-hostname-over-ip=false</span><br><span class="hljs-comment">### Specify local server&#x27;s IP:</span><br><span class="hljs-comment"># nacos.inetutils.ip-address=</span><br><span class="hljs-comment">#*************** Config Module Related Configurations ***************#</span><br><span class="hljs-comment">### If use MySQL as datasource:</span><br><span class="hljs-attr">spring.datasource.platform</span>=<span class="hljs-string">mysql</span><br><span class="hljs-comment">### Count of DB:</span><br><span class="hljs-attr">db.num</span>=<span class="hljs-string">1</span><br><span class="hljs-comment">### Connect URL of DB:</span><br><span class="hljs-attr">db.url.0</span>=<span class="hljs-string">jdbc:mysql://127.0.0.1:3306/nacos?characterEncoding=utf8&amp;connectTimeout=1000&amp;socketTimeout=3000&amp;autoReconnect=true&amp;useUnicode=true&amp;useSSL=false&amp;serverTimezone=UTC</span><br><span class="hljs-attr">db.user.0</span>=<span class="hljs-string">nacos</span><br><span class="hljs-attr">db.password.0</span>=<span class="hljs-string">nacos</span><br><span class="hljs-comment">### Connection pool configuration: hikariCP</span><br><span class="hljs-attr">db.pool.config.connectionTimeout</span>=<span class="hljs-string">30000</span><br><span class="hljs-attr">db.pool.config.validationTimeout</span>=<span class="hljs-string">10000</span><br><span class="hljs-attr">db.pool.config.maximumPoolSize</span>=<span class="hljs-string">20</span><br><span class="hljs-attr">db.pool.config.minimumIdle</span>=<span class="hljs-string">2</span><br></code></pre></td></tr></table></figure></li>
</ol>
<p><code>cluster.conf:</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs conf">2.0.0.1:8846 //ip 为本地内网 ip，不是 localhost/127.0.0.1<br>2.0.0.1:8847<br></code></pre></td></tr></table></figure>
<ol start="3">
<li><p>创建数据库 nacos，为该数据库配置用户名和密码以及权限，再导入 <code>nacos-mysql.sql</code> 文件自动新建相应数据表。</p>
</li>
<li><p><code>sh startup.sh -m standalone</code> 单点启动</p>
</li>
</ol>
<p><img src="https://qnpicmap.fcsluck.top/pics/202311181541807.png" srcset="/img/loading.gif" lazyload alt="image.png"></p>
<hr>
<h2 id="Docker-部署-Nacos"><a href="#Docker-部署-Nacos" class="headerlink" title="Docker 部署 Nacos"></a>Docker 部署 Nacos</h2><h3 id="Docker-拉取镜像"><a href="#Docker-拉取镜像" class="headerlink" title="## Docker 拉取镜像"></a>## Docker 拉取镜像</h3><p>拉取 nacos 镜像</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">docker pull nacos/nacos-server <span class="hljs-comment">#默认拉取最新的nacos版本 ，如果需要拉取别的版本可以加：版本号（如：docker pull nacos/nacos-server:v2.2.0）</span><br></code></pre></td></tr></table></figure>
<h3 id="配置宿主机挂载目录"><a href="#配置宿主机挂载目录" class="headerlink" title="配置宿主机挂载目录"></a>配置宿主机挂载目录</h3><p>这一步是添加映射文件夹，将宿主机的文件映射到 nacos 容器中</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-built_in">mkdir</span> -p /home/ecs-user/mdware/nacos/logs/                      <span class="hljs-comment">#新建logs目录</span><br><span class="hljs-built_in">mkdir</span> -p /home/ecs-user/mdware/nacos/conf/						<span class="hljs-comment">#新建conf目录</span><br></code></pre></td></tr></table></figure>
<h3 id="假启动"><a href="#假启动" class="headerlink" title="## 假启动"></a>## 假启动</h3><p>启动一个 nacos 容器并复制需要挂载的文件到宿主机，再关闭删除该容器（<em>为了获取默认的配置文件</em>）</p>
<p><strong>启动一个 nacos 容器</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">docker run -p 8848:8848 --name nacos -d nacos/nacos-server<br></code></pre></td></tr></table></figure>

<p><strong>复制挂载文件：</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sh">docker <span class="hljs-built_in">cp</span> nacos:/home/nacos/logs/ /home/ecs-user/mdware/nacos/<br>docker <span class="hljs-built_in">cp</span> nacos:/home/nacos/conf/ /home/ecs-user/mdware/nacos/<br></code></pre></td></tr></table></figure>

<p><strong>关闭删除容器：</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">docker <span class="hljs-built_in">rm</span> -f nacos<br></code></pre></td></tr></table></figure>
<h3 id="实启动（2-0版本后的nacos存在端口偏移）"><a href="#实启动（2-0版本后的nacos存在端口偏移）" class="headerlink" title="实启动（2.0版本后的nacos存在端口偏移）"></a>实启动（<a target="_blank" rel="noopener" href="https://blog.csdn.net/m0_46897923/article/details/132797991">2.0版本后的nacos存在端口偏移</a>）</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sh">docker run -d --name nacos -p 8848:8848 -p 9848:9848 -p 9849:9849 --privileged=<span class="hljs-literal">true</span> -e JVM_XMS=256m -e JVM_XMX=256m -e MODE=standalone -v /home/ecs-user/mdware/nacos/logs/:/home/nacos/logs/ -v /home/ecs-user/mdware/nacos/conf/:/home/nacos/conf/ --restart=always nacos/nacos-server <span class="hljs-comment">#未鉴权</span><br>docker run -d --name nacos -p 8848:8848 -p 9848:9848 <br>-p 9849:9849 --privileged=<span class="hljs-literal">true</span> -e JVM_XMS=256m -e JVM_XMX=256m -e MODE=standalone -e NACOS_AUTH_ENABLE=<span class="hljs-literal">true</span> -v /home/ecs-user/mdware/nacos/logs/:/home/nacos/logs/ -v /home/ecs-user/mdware/nacos/conf/:/home/nacos/conf/ --restart=always nacos/nacos-server <span class="hljs-comment">#开启鉴权</span><br></code></pre></td></tr></table></figure>

<p><strong>参数解释</strong>：</p>
<blockquote>
<ol>
<li>docker run -d ： 启动容器 -d 是后台启动并返回容器 id 的意思</li>
<li>–name nacos ：为容器指定一个名称</li>
<li>-p 8848:8848 ： 指定端口映射，注意这里的 p 不能大写，大写是随机端口映射</li>
<li>–privileged&#x3D;true ： 扩大容器内的权限，将容器内的权限变为 root 权限，不加的话就是普通用户权限，可能会出现 cannot open directory</li>
<li>-e JVM_XMS&#x3D;256m ： 为 jvm 启动时分配的内存</li>
<li>-e JVM_XMX&#x3D;256m ： 为 jvm 运行过程中分配的最大内存</li>
<li>-e MODE&#x3D;standalone ： 使用 standalone 模式（单机模式）,MODE 值有 cluster（集群）模式&#x2F;standalone 模式两种，MODE 必须大写</li>
<li>-e NACOS_AUTH_ENABLE&#x3D;true ：开启 token 鉴权</li>
<li>-v &#x2F;home&#x2F;ecs-user&#x2F;mdware&#x2F;nacos&#x2F;logs&#x2F;:&#x2F;home&#x2F;nacos&#x2F;logs&#x2F; : 将容器的&#x2F;home&#x2F;nacos&#x2F;logs 目录挂载到 &#x2F;home&#x2F;ecs-user&#x2F;mdware&#x2F;nacos&#x2F;logs</li>
<li>-v &#x2F;home&#x2F;ecs-user&#x2F;mdware&#x2F;nacos&#x2F;conf&#x2F;:&#x2F;home&#x2F;nacos&#x2F;conf&#x2F; ： 将容器的&#x2F;home&#x2F;nacos&#x2F;conf 目录挂载到 &#x2F;home&#x2F;ecs-user&#x2F;mdware&#x2F;nacos&#x2F;conf –restart&#x3D;always ：重启 docker 时，自动启动相关容器</li>
</ol>
</blockquote>
<h3 id="开启防火墙端口"><a href="#开启防火墙端口" class="headerlink" title="开启防火墙端口"></a>开启防火墙端口</h3><p>需要在防火墙开放相关端口，云服务器还需要开放安全组对应端口：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-comment">## 开放端口 8848 9848 9849</span><br>firewall-cmd --zone=public --add-port=8848/tcp --permanent<br><span class="hljs-comment">## 重启防火墙</span><br>firewall-cmd --reload<br><span class="hljs-comment">## 查看所有开启的端口</span><br>firewall-cmd --zone=public --list-ports<br></code></pre></td></tr></table></figure>

<p>重启完防火墙之后，需要重启 docker</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-comment">## 重启 docker</span><br>systemctl restart docker<br></code></pre></td></tr></table></figure>
<blockquote>
<p>如需开启集群模式，可修改宿主机挂载的配置文件修改相应内容，再重启 nacos 容器即可更新配置。</p>
</blockquote>
<hr>
<h1 id="Sentinel"><a href="#Sentinel" class="headerlink" title="Sentinel"></a>Sentinel</h1><ol>
<li>下载 <a target="_blank" rel="noopener" href="https://github.com/alibaba/Sentinel/releases">Sentinel</a> 的 jar 包上传至 linux 系统上</li>
<li>使用 <em>nohup</em> 指令持久化后台运行 <strong>jar 包</strong></li>
<li>后端持久运行 jar 包：<br><code>nohup java -Xms100m -Xmx100m -jar score-api-0.0.1-SNAPSHOT.jar&amp;</code></li>
</ol>
<p><img src="https://qnpicmap.fcsluck.top/pics/202311181541977.png" srcset="/img/loading.gif" lazyload alt="image.png"></p>
<hr>
<h1 id="Seata"><a href="#Seata" class="headerlink" title="Seata"></a>Seata</h1><h2 id="服务端配置"><a href="#服务端配置" class="headerlink" title="服务端配置"></a>服务端配置</h2><ol>
<li>下载 <a target="_blank" rel="noopener" href="https://github.com/seata/seata/releases/">Seata</a> 服务端</li>
<li>新建一个 <strong>namespace</strong> 用于 seata 使用：<em>seata</em><br><img src="https://qnpicmap.fcsluck.top/pics/202311201527195.png" srcset="/img/loading.gif" lazyload alt="image.png"></li>
<li>客户端配置- <code>application.yml</code><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">server:</span>  <br>  <span class="hljs-attr">port:</span> <span class="hljs-number">7091</span>  <br><span class="hljs-attr">spring:</span>  <br>  <span class="hljs-attr">application:</span>  <br>    <span class="hljs-attr">name:</span> <span class="hljs-string">seata-server</span>  <br><span class="hljs-attr">logging:</span>  <br>  <span class="hljs-attr">config:</span> <span class="hljs-string">classpath:logback-spring.xml</span>  <br>  <span class="hljs-attr">file:</span>  <br>    <span class="hljs-attr">path:</span> <span class="hljs-string">$&#123;log.home:$&#123;user.home&#125;/logs/seata&#125;</span>  <br>  <span class="hljs-attr">extend:</span>  <br>    <span class="hljs-attr">logstash-appender:</span>  <br>      <span class="hljs-attr">destination:</span> <span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span><span class="hljs-string">:4560</span>  <br>    <span class="hljs-attr">kafka-appender:</span>  <br>      <span class="hljs-attr">bootstrap-servers:</span> <span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span><span class="hljs-string">:9092</span>  <br>      <span class="hljs-attr">topic:</span> <span class="hljs-string">logback_to_logstash</span>  <br><span class="hljs-attr">console:</span>  <br>  <span class="hljs-attr">user:</span>  <br>    <span class="hljs-attr">username:</span> <span class="hljs-string">seata</span>  <br>    <span class="hljs-attr">password:</span> <span class="hljs-string">seata</span>  <br><span class="hljs-attr">seata:</span>  <br>  <span class="hljs-attr">config:</span>  <br>    <span class="hljs-comment"># support: nacos, consul, apollo, zk, etcd3  </span><br>    <span class="hljs-attr">type:</span> <span class="hljs-string">nacos</span>  <br>    <span class="hljs-attr">nacos:</span>  <br>      <span class="hljs-attr">serverAddr:</span> <span class="hljs-string">xxx:8848</span>  <br>      <span class="hljs-attr">namespace:</span> <span class="hljs-string">401254cb-2aa6-4be3-bd44-4a139ebdc687</span> <span class="hljs-comment">#自定义的命名空间  </span><br>      <span class="hljs-attr">group:</span> <span class="hljs-string">SEATA_GROUP</span>  <br>      <span class="hljs-attr">username:</span> <span class="hljs-string">nacos</span>  <br>      <span class="hljs-attr">password:</span> <span class="hljs-string">nacos</span>  <br>      <span class="hljs-attr">dataId:</span> <span class="hljs-string">seata-server.properties</span>  <br>  <span class="hljs-attr">registry:</span>  <br>    <span class="hljs-comment"># support: nacos, eureka, redis, zk, consul, etcd3, sofa  </span><br>    <span class="hljs-attr">type:</span> <span class="hljs-string">nacos</span>  <br>    <span class="hljs-attr">nacos:</span>  <br>      <span class="hljs-attr">application:</span> <span class="hljs-string">seata-server</span>  <br>      <span class="hljs-attr">server-addr:</span> <span class="hljs-string">xxx:8848</span>  <br>      <span class="hljs-attr">namespace:</span> <span class="hljs-string">401254cb-2aa6-4be3-bd44-4a139ebdc687</span>  <span class="hljs-comment">#自定义的命名空间  </span><br>      <span class="hljs-attr">group:</span> <span class="hljs-string">SEATA_GROUP</span>  <br>      <span class="hljs-attr">cluster:</span> <span class="hljs-string">default</span>  <br>      <span class="hljs-attr">username:</span> <span class="hljs-string">nacos</span>  <br>      <span class="hljs-attr">password:</span> <span class="hljs-string">nacos</span>  <br>  <span class="hljs-attr">store:</span>  <br>    <span class="hljs-comment"># support: file 、 db 、 redis  </span><br>    <span class="hljs-attr">mode:</span> <span class="hljs-string">file</span>  <br>  <span class="hljs-comment">#  server:  </span><br>  <span class="hljs-comment">#    service-port: 8091 #If not configured, the default is &#x27;$&#123;server.port&#125; + 1000&#x27;  security:  </span><br>    <span class="hljs-attr">secretKey:</span> <span class="hljs-string">SeataSecretKey0c382ef121d778043159209298fd40bf3850a017</span>  <br>    <span class="hljs-attr">tokenValidityInMilliseconds:</span> <span class="hljs-number">1800000</span>  <br>    <span class="hljs-attr">ignore:</span>  <br>      <span class="hljs-attr">urls:</span> <span class="hljs-string">/,/**/*.css,/**/*.js,/**/*.html,/**/*.map,/**/*.svg,/**/*.png,/**/*.jpeg,/**/*.ico,/api/v1/auth/login</span><br></code></pre></td></tr></table></figure></li>
<li>初始 Mysql 数据库<br>新建 seata 库-&gt;执行 <code>mysql.sql</code> 初始化脚本-&gt;【Seata 1.x 版本 mysql 脚本】压缩包目录 <code>seata/script/db/mysql.sql</code><br><img src="https://qnpicmap.fcsluck.top/pics/202311201526596.png" srcset="/img/loading.gif" lazyload alt="image.png"></li>
<li>导入初始配置到 nacos</li>
</ol>
<ul>
<li>修改压缩包目录 <code>seata/script/config-center/config.txt</code> 文件中几处内容：<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs txt"># 存储模式<br>store.mode=db<br>store.db.datasource=druid<br>store.db.dbType=mysql<br># 需要根据 mysql 的版本调整 driverClassName<br># mysql8 及以上版本对应的 driver：com.mysql.cj.jdbc.Driver<br># mysql8 以下版本的 driver：com.mysql.jdbc.Driver<br>store.db.driverClassName=com.mysql.jdbc.Driver<br># 注意根据生产实际情况调整参数 host 和 port<br>store.db.url=jdbc:mysql://127.0.0.1:3306/seata?useUnicode=true&amp;rewriteBatchedStatements=true<br># 数据库用户名密码<br>store.db.user=root<br>store.db.password=12345678<br># 微服务里配置与这里一致,客户端事务组映射配置（要与客户端的 application.yml 中的配置保持一致）  <br>service.vgroupMapping.user-service-seata-service-group=default  <br>service.vgroupMapping.book-service-seata-service-group=default  <br>service.vgroupMapping.borrow-service-seata-service-group=default<br></code></pre></td></tr></table></figure>
<blockquote>
<p>[!WARNING] 特别说明<br>配置事务分组 service.vgroupMapping.dev_tx_group&#x3D;default<br>dev_tx_group：需要与客户端保持一致，可以自定义 (如上所示自定义)<br>default：需要跟客户端和 application.yml 中的 cluster 保持一致<br>default 必须要等于 registry.conf.cluster &#x3D; “default”</p>
</blockquote>
</li>
<li>通过压缩包目录 <code>seatascript/config-center/nacos/nacos-config.sh</code> 将修改后的 config.txt 发布到 nacos 上<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">运行指令，通过 Git Bash Here</span><br>sh nacos-config.sh -h localhost -p 8848 -g SEATA_GROUP -t 891d7906-dd03-4b8c-9fe9-a1f0609b3189<br><span class="hljs-meta prompt_"># </span><span class="language-bash">具体说明参见： http://seata.io/zh-cn/docs/user/configurations.html</span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">-h: nacos host，默认 localhost</span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">-p: nacos 端口，默认 8848</span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">-g: nacos 分组，默认<span class="hljs-string">&#x27;SEATA_GROUP&#x27;</span>.</span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">-t: 租户信息 Tenant information，对应 nacos namespace ID，默认<span class="hljs-string">&#x27;&#x27;</span></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">-u: nacos 用户名，默认<span class="hljs-string">&#x27;&#x27;</span></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">-w: nacos 用户密码，默认<span class="hljs-string">&#x27;&#x27;</span></span><br></code></pre></td></tr></table></figure>
<img src="https://qnpicmap.fcsluck.top/pics/202311201533687.png" srcset="/img/loading.gif" lazyload alt="image.png"></li>
</ul>
<ol start="6">
<li>启动 seata<br>根据系统环境启动 seata 服务端：<br><img src="https://qnpicmap.fcsluck.top/pics/202311201535684.png" srcset="/img/loading.gif" lazyload alt="image.png|500"></li>
</ol>
<hr>
<h2 id="客户端配置"><a href="#客户端配置" class="headerlink" title="客户端配置"></a>客户端配置</h2><ol>
<li>引入 Maven 依赖<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--        seata--&gt;</span>  <br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>  <br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.alibaba.cloud<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>  <br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-cloud-starter-alibaba-seata<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>  <br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure></li>
<li>修改微服务的 <code>application.yml</code><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs yml"><span class="hljs-attr">spring:</span>  <br>  <span class="hljs-attr">application:</span>  <br>    <span class="hljs-attr">name:</span> <span class="hljs-string">book-service</span>  <br>  <span class="hljs-attr">datasource:</span>  <br>    <span class="hljs-attr">url:</span> <span class="hljs-string">jdbc:mysql://localhost:3306/springcloud?useUnicode=true&amp;characterEncoding=utf8</span>  <br>    <span class="hljs-attr">username:</span> <span class="hljs-string">root</span>  <br>    <span class="hljs-attr">password:</span> <span class="hljs-number">123456</span>  <br>    <span class="hljs-attr">driver-class-name:</span> <span class="hljs-string">com.mysql.cj.jdbc.Driver</span>  <br>  <span class="hljs-attr">cloud:</span>  <br>    <span class="hljs-attr">nacos:</span>  <br>      <span class="hljs-attr">discovery:</span>  <br>        <span class="hljs-comment"># 配置 Nacos 注册中心地址  </span><br>        <span class="hljs-attr">server-addr:</span> <span class="hljs-string">xxx:8848</span>  <br>      <span class="hljs-comment">#        namespace: 44a80565-86f1-450f-88ea-6f93801cd08c #设置命名空间为开发环境  </span><br>    <span class="hljs-attr">sentinel:</span>  <br>      <span class="hljs-attr">transport:</span>  <br>        <span class="hljs-comment"># 添加监控页面地址即可  </span><br>        <span class="hljs-attr">dashboard:</span> <span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span><span class="hljs-string">:8080</span><br><span class="hljs-attr">seata:</span>  <br>  <span class="hljs-attr">tx-service-group:</span> <span class="hljs-string">user-service-seata-service-group</span> <span class="hljs-comment">#必须配置和服务端的service .vgroupMapping.xxx 一致  </span><br>  <span class="hljs-comment"># 注册  registry:  </span><br>    <span class="hljs-comment"># 使用 Nacos  </span><br>    <span class="hljs-attr">type:</span> <span class="hljs-string">nacos</span>  <br>    <span class="hljs-attr">nacos:</span>  <br>      <span class="hljs-comment"># 使用 Seata 的命名空间，这样才能正确找到 Seata 服务，由于组使用的是 SEATA_GROUP，配置默认值就是，就不用配了  </span><br>      <span class="hljs-attr">namespace:</span> <span class="hljs-string">401254cb-2aa6-4be3-bd44-4a139ebdc687</span>  <br>      <span class="hljs-attr">username:</span> <span class="hljs-string">nacos</span>  <br>      <span class="hljs-attr">password:</span> <span class="hljs-string">nacos</span>  <br>      <span class="hljs-attr">server-addr:</span> <span class="hljs-string">$&#123;spring.cloud.nacos.discovery.server-addr&#125;</span>  <br>  <span class="hljs-comment"># 配置  </span><br>  <span class="hljs-attr">config:</span>  <br>    <span class="hljs-attr">type:</span> <span class="hljs-string">nacos</span>  <br>    <span class="hljs-attr">nacos:</span>  <br>      <span class="hljs-attr">namespace:</span> <span class="hljs-string">401254cb-2aa6-4be3-bd44-4a139ebdc687</span>  <br>      <span class="hljs-attr">username:</span> <span class="hljs-string">nacos</span>  <br>      <span class="hljs-attr">password:</span> <span class="hljs-string">nacos</span>  <br>      <span class="hljs-attr">server-addr:</span> <span class="hljs-string">$&#123;spring.cloud.nacos.discovery.server-addr&#125;</span>  <br>  <span class="hljs-attr">service:</span>  <br>    <span class="hljs-attr">vgroup-mapping:</span>  <br>      <span class="hljs-attr">tx-group-mapping:</span> <span class="hljs-string">user-service-seata-service-group</span>  <span class="hljs-comment">#必须配置和服务端的service .vgroupMapping.xxx 一致</span><br></code></pre></td></tr></table></figure></li>
<li>配置完成启动微服务即可</li>
</ol>
<hr>
<h1 id="RabbitMQ"><a href="#RabbitMQ" class="headerlink" title="RabbitMQ"></a>RabbitMQ</h1><ol>
<li>下载安装 <a target="_blank" rel="noopener" href="https://www.rabbitmq.com/">RabbitMQ</a> 和 <a target="_blank" rel="noopener" href="https://www.erlang.org/">Erlang</a> 并配置环境变量</li>
<li>安装完成后找到安装文件路径，找到 sbin 目录下，打开命令行 cmd，在命令行里切换到 sbin 目录下，输入如下命令：<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">rabbitmq-plugins enable rabbitmq_management<br></code></pre></td></tr></table></figure></li>
</ol>
<p>运行成功后，打开任务资源管理器，找到 rabbitmq 服务右键重新启动。或者也可以，双击 sbin 下的 rabbitmq-server.bat（双击后稍等片刻）</p>
<ol start="3">
<li><p>安装完成后，通过浏览器访问 RabbitMQ 控制台 <a target="_blank" rel="noopener" href="http://localhost:15672/">http://localhost:15672</a></p>
<ul>
<li><p>默认的端口号：<em>5672</em></p>
</li>
<li><p>默认的用户和密码是  <em>guest</em>  </p>
</li>
<li><p>管理后台的默认端口号：<em>15672</em></p>
</li>
</ul>
</li>
</ol>
<p><img src="https://qnpicmap.fcsluck.top/pics/202311221729835.png" srcset="/img/loading.gif" lazyload alt="image.png"></p>
<p>常用命令：</p>
<ol>
<li>windows <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">#</span><span class="language-bash">查看端口占用情况</span><br>netstat -ano | findstr :15672<br><span class="hljs-meta prompt_">#</span><span class="language-bash">下载插件</span><br>rabbitmq-plugins.bat enable rabbitmq_management<br><span class="hljs-meta prompt_">#</span><span class="language-bash">查看是否安装成功</span><br>rabbitmqctl.bat status<br><span class="hljs-meta prompt_">#</span><span class="language-bash">如果查看报错 ，可能是后台服务器没有开启，开启后台服务器再重试  <span class="hljs-comment">#如果查看报错 ，可能是后台服务器没有开启，开启后台服务器再重试</span></span>  <br>net start RabbitMQ<br><span class="hljs-meta prompt_">#</span><span class="language-bash">查看RabbitMQ已有用户以及用户对应的角色信息</span><br>rabbitmqctl.bat list_users<br><span class="hljs-meta prompt_">#</span><span class="language-bash">RabbitMQ的默认用户名和密码是guest ，只能在本机访问，新增一个用户，并赋予超级管理员角色</span><br>rabbitmqctl add_user 用户名密码<br><span class="hljs-meta prompt_">#</span><span class="language-bash">设置用户角色</span><br>rabbitmqctl set_user_tags 用户名 administrator<br></code></pre></td></tr></table></figure></li>
<li>linux <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment">#列出所有队列 ：</span><br>rabbitmqctl list_queues<br><span class="hljs-comment">#列出所有交换器 ：</span><br>rabbitmqctl list_exchanges<br><span class="hljs-comment">#列出所有绑定 ：</span><br>rabbitmqctl list_bindings<br><span class="hljs-comment">#列出所有连接 ：</span><br>rabbitmqctl list_connections<br><span class="hljs-comment">#列出所有通道 ：</span><br>rabbitmqctl list_channels<br><span class="hljs-comment">#列出所有消费者 ：</span><br>rabbitmqctl list_consumers<br><span class="hljs-comment">#查看队列的状态信息 ：</span><br>rabbitmqctl list_queues name messages_ready messages_unacknowledged<br><span class="hljs-comment">#查看交换器的状态信息 ：</span><br>rabbitmqctl list_exchanges name <span class="hljs-built_in">type</span><br><span class="hljs-comment">#查看连接的状态信息 ：</span><br>rabbitmqctl list_connections name user state<br><span class="hljs-comment">#查看通道的状态信息 ：</span><br>rabbitmqctl list_channels connection_name user number_of_consumers<br><span class="hljs-comment">#查看 RabbitMQ 节点的状态信息：</span><br>rabbitmqctl status<br><span class="hljs-comment">#查看 RabbitMQ 节点的详细状态信息：</span><br>rabbitmqctl status --verbose<br><span class="hljs-comment">#查看 RabbitMQ 节点的配置信息：</span><br>rabbitmqctl environment<br><span class="hljs-comment">#查看 RabbitMQ 节点的运行日志：</span><br>rabbitmqctl report<br><span class="hljs-comment">#查看 RabbitMQ 节点的内存使用情况：</span><br>rabbitmqctl <span class="hljs-built_in">eval</span> <span class="hljs-string">&#x27;memory&#x27;</span><br></code></pre></td></tr></table></figure></li>
</ol>
<hr>
<h1 id="RocketMQ"><a href="#RocketMQ" class="headerlink" title="RocketMQ"></a>RocketMQ</h1><p>RocketMQ 依赖 Java 环境，要求有 JDK1.8 以上版本。RocketMQ 支持三种集群部署模式，单机部署模式如下教程所示。</p>
<h2 id="创建-NameServer-服务"><a href="#创建-NameServer-服务" class="headerlink" title="创建 NameServer 服务"></a>创建 NameServer 服务</h2><h3 id="拉取-Rocketmq-镜像"><a href="#拉取-Rocketmq-镜像" class="headerlink" title="拉取 Rocketmq 镜像"></a>拉取 Rocketmq 镜像</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">docker run -d -p 9876:9876 --name rmqserver  apacherocketmq/rocketmq-server<br></code></pre></td></tr></table></figure>
<h3 id="创建-Nameserver-数据卷挂载路径"><a href="#创建-Nameserver-数据卷挂载路径" class="headerlink" title="创建 Nameserver 数据卷挂载路径"></a>创建 Nameserver 数据卷挂载路径</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-built_in">mkdir</span> -p  /home/ecs-user/mdware/rocketmq/data/namesrv/logs   /home/ecs-user/mdware/rocketmq/data/namesrv/store<br></code></pre></td></tr></table></figure>
<h3 id="创建-Namesrv-容器"><a href="#创建-Namesrv-容器" class="headerlink" title="创建 Namesrv 容器"></a>创建 Namesrv 容器</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs sh">docker run -d \<br>--restart=always \<br>--name rmqnamesrv \<br>-p 9876:9876 \<br>-v /home/ecs-user/mdware/rocketmq/data/namesrv/logs:/root/logs \<br>-v /home/ecs-user/mdware/rocketmq/data/namesrv/store:/root/store \<br>-e <span class="hljs-string">&quot;MAX_POSSIBLE_HEAP=100000000&quot;</span> \<br>rocketmqinc/rocketmq \<br>sh mqnamesrv <br></code></pre></td></tr></table></figure>

<p><strong>容器参数说明:</strong></p>
<table>
<thead>
<tr>
<th>参数</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>-d</td>
<td>以守护线程方式启动</td>
</tr>
<tr>
<td>–restart&#x3D;always</td>
<td>docker 重启时候容器自动重启</td>
</tr>
<tr>
<td>-p 9876:9876</td>
<td>把容器内的端口 9876 挂载到宿主机 9876 上面</td>
</tr>
<tr>
<td>-e “MAX_POSSIBLE_HEAP&#x3D;100000000”</td>
<td>设置容器的最大堆内存为 100000000</td>
</tr>
<tr>
<td>sh mqnamesrv</td>
<td>启动 namesrv 服务</td>
</tr>
</tbody></table>
<h2 id="创建-Broke-节点"><a href="#创建-Broke-节点" class="headerlink" title="创建 Broke 节点"></a><strong>创建 Broke 节点</strong></h2><h3 id="创建-Broke-数据卷挂载路径"><a href="#创建-Broke-数据卷挂载路径" class="headerlink" title="创建 Broke 数据卷挂载路径"></a>创建 Broke 数据卷挂载路径</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-built_in">mkdir</span> -p /home/ecs-user/mdware/rocketmq/data/broker/logs /home/ecs-user/mdware/rocketmq/data/broker/store /home/ecs-user/mdware/rocketmq/conf<br></code></pre></td></tr></table></figure>
<h3 id="创建配置文件"><a href="#创建配置文件" class="headerlink" title="创建配置文件"></a>创建配置文件</h3><p><code>echo &#39;&#39; &gt; broker.conf</code></p>
<p><code>vi /docker/rocketmq/conf/broker.conf</code></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-comment"># 所属集群名称，如果节点较多可以配置多个</span><br>brokerClusterName = DefaultCluster<br><span class="hljs-comment">#broker名称 ，master 和 slave 使用相同的名称，表明他们的主从关系</span><br>brokerName = broker-a<br><span class="hljs-comment">#0表示Master ，大于 0 表示不同的 slave</span><br>brokerId = 0<br><span class="hljs-comment">#表示几点做消息删除动作 ，默认是凌晨 4 点</span><br>deleteWhen = 04<br><span class="hljs-comment">#在磁盘上保留消息的时长 ，单位是小时</span><br>fileReservedTime = 48<br><span class="hljs-comment">#有三个值 ：SYNC_MASTER，ASYNC_MASTER，SLAVE；同步和异步表示 Master 和 Slave 之间同步数据的机制；</span><br>brokerRole = ASYNC_MASTER<br><span class="hljs-comment">#刷盘策略 ，取值为：ASYNC_FLUSH，SYNC_FLUSH 表示同步刷盘和异步刷盘；SYNC_FLUSH 消息写入磁盘后才返回成功状态，ASYNC_FLUSH 不需要；</span><br>flushDiskType = ASYNC_FLUSH<br><span class="hljs-comment"># 设置 broker 节点所在服务器的外网 ip 地址（内网 ip 通过 ifconfig 查看）   换成自己的主机的 IP</span><br>brokerIP1 = 外网 IP<br><span class="hljs-comment"># 磁盘使用达到 85%之后,生产者再写入消息会报错 CODE: 14 DESC: service not available now, maybe disk full</span><br>diskMaxUsedSpaceRatio=85<br></code></pre></td></tr></table></figure>
<h3 id="创建-Docker-容器"><a href="#创建-Docker-容器" class="headerlink" title="创建 Docker 容器"></a>创建 Docker 容器</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs sh">docker run -d  \<br>--restart=always \<br>--name rmqbroker \<br>--<span class="hljs-built_in">link</span> rmqnamesrv:namesrv \<br>-p 10911:10911 \<br>-p 10909:10909 \<br>-v  /home/ecs-user/mdware/rocketmq/data/broker/logs:/root/logs \<br>-v  /home/ecs-user/mdware/rocketmq/data/broker/store:/root/store \<br>-v /home/ecs-user/mdware/rocketmq/conf/broker.conf:/opt/rocketmq-4.4.0/conf/broker.conf \<br>-e <span class="hljs-string">&quot;NAMESRV_ADDR=namesrv:9876&quot;</span> \<br>-e <span class="hljs-string">&quot;MAX_POSSIBLE_HEAP=200000000&quot;</span> \<br>rocketmqinc/rocketmq \<br>sh mqbroker -c /opt/rocketmq-4.4.0/conf/broker.conf <br></code></pre></td></tr></table></figure>

<p><strong>参数说明</strong></p>
<table>
<thead>
<tr>
<th>参数</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>–link rmqnamesrv:namesrv</td>
<td>和 rmqnamesrv 容器通信</td>
</tr>
<tr>
<td>-p 10911:10911</td>
<td>把容器的非 vip 通道端口挂载到宿主机</td>
</tr>
<tr>
<td>-p 10909:10909</td>
<td>把容器的 vip 通道端口挂载到宿主机</td>
</tr>
<tr>
<td>-e “NAMESRV_ADDR&#x3D;namesrv:9876”</td>
<td>指定 namesrv 的地址为本机 namesrv 的 ip 地址:9876</td>
</tr>
<tr>
<td>-e “MAX_POSSIBLE_HEAP&#x3D;200000000” rocketmqinc&#x2F;rocketmq sh mqbroker</td>
<td>指定 broker 服务的最大堆内存</td>
</tr>
<tr>
<td>sh mqbroker -c &#x2F;opt&#x2F;rocketmq-4.4.0&#x2F;conf&#x2F;broker.conf</td>
<td>指定配置文件启动 broker 节点</td>
</tr>
</tbody></table>
<h2 id="创建-Rocketmq-consol-服务"><a href="#创建-Rocketmq-consol-服务" class="headerlink" title="创建 Rocketmq-consol 服务"></a>创建 Rocketmq-consol 服务</h2><h3 id="拉取镜像-1"><a href="#拉取镜像-1" class="headerlink" title="拉取镜像"></a>拉取镜像</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">docker pull pangliang/rocketmq-console-ng<br></code></pre></td></tr></table></figure>
<h3 id="构建容器"><a href="#构建容器" class="headerlink" title="构建容器"></a>构建容器</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs sh">docker run -d \<br>--restart=always \<br>--name rmqadmin \<br>-e <span class="hljs-string">&quot;JAVA_OPTS=-Drocketmq.namesrv.addr=172.17.0.3:9876 \</span><br><span class="hljs-string">-Dcom.rocketmq.sendMessageWithVIPChannel=false&quot;</span> \<br>-p 9999:8080 \<br>pangliang/rocketmq-console-ng<br></code></pre></td></tr></table></figure>
<blockquote>
<p>[!WARNING] 注意<br><code>JAVA_OPTS=-Drocketmq.namesrv.addr=172.17.0.3:9876</code> 中的 ip 地址是 docker 容器 <strong>rmqnamesrv</strong> 的容器内部 ip 地址，使用 <code>docker inspect</code> 查看获取</p>
</blockquote>
<h3 id="开放端口"><a href="#开放端口" class="headerlink" title="开放端口"></a>开放端口</h3><p>如果是云服务器还需要开放安全组</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sh">firewall-cmd --zone=public --add-port=9999/tcp --permanent<br>firewall-cmd --zone=public --add-port=10911/tcp --permanent<br></code></pre></td></tr></table></figure>
<h2 id="部署成功结果如下图所示："><a href="#部署成功结果如下图所示：" class="headerlink" title="部署成功结果如下图所示："></a>部署成功结果如下图所示：<br><img src="https://qnpicmap.fcsluck.top/pics/202312101120616.png" srcset="/img/loading.gif" lazyload><br><img src="https://qnpicmap.fcsluck.top/pics/202312101118368.png" srcset="/img/loading.gif" lazyload alt="|800"></h2><h1 id="青龙面板"><a href="#青龙面板" class="headerlink" title="青龙面板"></a>青龙面板</h1><h2 id="拉取镜像-2"><a href="#拉取镜像-2" class="headerlink" title="拉取镜像"></a>拉取镜像</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">docker pull whyour/qinglong:latest<br></code></pre></td></tr></table></figure>
<h2 id="启动容器"><a href="#启动容器" class="headerlink" title="启动容器"></a>启动容器</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs sh">docker run -dit \<br>  -v <span class="hljs-variable">$PWD</span>/ql/data:/ql/data \<br>  -p 5700:5700 \<br>  -e QlBaseUrl=<span class="hljs-string">&quot;/&quot;</span> \<br>  -e QlPort=<span class="hljs-string">&quot;5700&quot;</span> \<br>  --name qinglong \<br>  --hostname qinglong \<br>  --restart unless-stopped \<br>  whyour/qinglong:latest<br>docker run -dit \<br>  -v <span class="hljs-variable">$PWD</span>/ql/data:/ql/data \<br>  <span class="hljs-comment"># 冒号后面的 5700 为默认端口，如果设置了 QlPort, 需要跟 QlPort 保持一致</span><br>  -p 5700:5700 \<br>  <span class="hljs-comment"># 部署路径非必须，比如 /test</span><br>  -e QlBaseUrl=<span class="hljs-string">&quot;/&quot;</span> \<br>  <span class="hljs-comment"># 部署端口非必须，当使用 host 模式时，可以设置服务启动后的端口，默认 5700</span><br>  -e QlPort=<span class="hljs-string">&quot;5700&quot;</span> \<br>  --name qinglong \<br>  --hostname qinglong \<br>  --restart unless-stopped \<br>  whyour/qinglong:latest<br></code></pre></td></tr></table></figure>

<p>启动容器后防火墙和安全组放行 5700 端口。</p>
<h2 id="安装依赖"><a href="#安装依赖" class="headerlink" title="安装依赖"></a>安装依赖</h2><ol>
<li>nodejs<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs sh">request<br>crypto-js<br>prettytable<br>dotenv<br>jsdom<br>date-fns<br>tough-cookie<br>tslib<br>ws@7.4.3<br>ts-md5<br>jsdom -g<br>jieba<br>fs<br>form-data<br>json5<br>global-agent<br>png-js<br>@types/node<br>require<br>typescript<br>js-base64<br>axios<br>moment<br></code></pre></td></tr></table></figure></li>
<li>Python3<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs sh">requests<br>canvas<br>ping3<br>jieba<br>PyExecJS<br>aiohttp<br></code></pre></td></tr></table></figure></li>
<li>Linux<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sh">bizCode<br>bizMsg<br>lxm<br></code></pre></td></tr></table></figure></li>
</ol>
<p>有部分 python 和 linux 依赖可能安装失败，不过不用担心大部分脚本都依赖 nodejs。</p>
<h2 id="添加订阅"><a href="#添加订阅" class="headerlink" title="添加订阅"></a>添加订阅</h2><p><img src="https://qnpicmap.fcsluck.top/pics/202312102334878.png" srcset="/img/loading.gif" lazyload></p>
<p><img src="https://qnpicmap.fcsluck.top/pics/202312102334410.png" srcset="/img/loading.gif" lazyload alt="|500"></p>
<p><strong>常用的仓库地址</strong></p>
<pre><code class="hljs">Faker2 助力池版

星标 1300+ 脚本 300+ 
</code></pre>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs sh">旧版：<br>ql repo https://git.metauniverse-cn.com/https://github.com/shufflewzc/faker2.git <span class="hljs-string">&quot;jd_|jx_|gua_|jddj_|jdCookie&quot;</span> <span class="hljs-string">&quot;activity|backUp&quot;</span> <span class="hljs-string">&quot;^jd[^_]|USER|function|utils|sendNotify|ZooFaker_Necklace.js|JDJRValidator_|sign_graphics_validate|ql|JDSignValidator|magic|depend|h5sts&quot;</span> <span class="hljs-string">&quot;main&quot;</span><br>新版：<br>https://github.com/shufflewzc/faker2.git<br></code></pre></td></tr></table></figure>
<pre><code class="hljs">Faker3 纯净版
星标 700+ 脚本 300+ 
</code></pre>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs sh">旧版：<br>ql repo https://git.metauniverse-cn.com/https://github.com/shufflewzc/faker3.git <span class="hljs-string">&quot;jd_|jx_|gua_|jddj_|jdCookie&quot;</span> <span class="hljs-string">&quot;activity|backUp&quot;</span> <span class="hljs-string">&quot;^jd[^_]|USER|function|utils|sendNotify|ZooFaker_Necklace.js|JDJRValidator_|sign_graphics_validate|ql|JDSignValidator|magic|depend|h5sts&quot;</span> <span class="hljs-string">&quot;main&quot;</span><br>新版：<br>https://github.com/shufflewzc/faker3.git<br></code></pre></td></tr></table></figure>
<pre><code class="hljs">gys619
星标 1200+ 脚本 300+ 
</code></pre>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs sh">旧版：<br>ql repo https://github.com/gys619/Absinthe.git <span class="hljs-string">&quot;jd_|jx_|jddj_|gua_|getJDCookie|wskey&quot;</span> <span class="hljs-string">&quot;activity|backUp&quot;</span> <span class="hljs-string">&quot;^jd[^_]|USER|utils|ZooFaker_Necklace|JDJRValidator_|sign_graphics_validate|jddj_cookie|function|ql|magic|JDJR|JD&quot;</span> <span class="hljs-string">&quot;main&quot;</span><br>新版：<br>https://github.com/gys619/Absinthe.git<br></code></pre></td></tr></table></figure>
<pre><code class="hljs">Akali5
星标 90+ 脚本 300+ 
</code></pre>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs sh">旧版：<br>ql repo https://github.com/Akali5/jd-depot.git <span class="hljs-string">&quot;jd_|jx_|jddj_|gua_|getJDCookie|wskey&quot;</span> <span class="hljs-string">&quot;activity|backUp&quot;</span> <span class="hljs-string">&quot;^jd[^_]|USER|utils|ZooFaker_Necklace|JDJRValidator_|sign_graphics_validate|jddj_cookie|function|ql|magic|JDJR|sendNotify|depend|h5|jdspider&quot;</span><br>新版：<br>https://github.com/Akali5/jd-depot.git<br></code></pre></td></tr></table></figure>
<pre><code class="hljs">KingRan
星标 170+ 脚本 110+ 
</code></pre>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs sh">旧版：<br>ql repo https://github.com/KingRan/KR.git <span class="hljs-string">&quot;jd_|jx_|jdCookie&quot;</span> <span class="hljs-string">&quot;activity|backUp&quot;</span> <span class="hljs-string">&quot;^jd[^_]|USER|utils|function|sign|sendNotify|ql|JDJR&quot;</span><br>新版：<br>https://github.com/KingRan/KR.git<br></code></pre></td></tr></table></figure>
<pre><code class="hljs">6dylan6
星标 500+ 脚本 90+ 
</code></pre>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs sh">旧版：<br>ql repo https://github.com/6dylan6/jdpro.git <span class="hljs-string">&quot;jd_|jx_|jddj_&quot;</span> <span class="hljs-string">&quot;backUp&quot;</span> <span class="hljs-string">&quot;^jd[^_]|USER|JD|function|sendNotify&quot;</span><br>新版：<br>https://github.com/6dylan6/jdpro.git<br></code></pre></td></tr></table></figure>
<pre><code class="hljs">zero205
星标 500+ 脚本 80+ 
</code></pre>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs sh">旧版：<br>ql repo https://github.com/zero205/JD_tencent_scf.git <span class="hljs-string">&quot;jd_|jx_|jdCookie&quot;</span>  <span class="hljs-string">&quot;backUp|icon&quot;</span> <span class="hljs-string">&quot;^jd[^_]|USER|sendNotify|sign_graphics_validate|JDJR|JDSign|ql&quot;</span> <span class="hljs-string">&quot;main&quot;</span><br>新版：<br>https://github.com/zero205/JD_tencent_scf.git<br></code></pre></td></tr></table></figure>
<pre><code class="hljs">ccwav 通知增强版和 CK 检测
星标 400+ 
</code></pre>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs sh">旧版：<br>不包含 sendNotify:<br>ql repo https://github.com/ccwav/QLScript2.git <span class="hljs-string">&quot;jd_&quot;</span> <span class="hljs-string">&quot;NoUsed&quot;</span> <span class="hljs-string">&quot;ql|utils|USER_AGENTS|jdCookie|JS_USER_AGENTS&quot;</span><br>包含 sendNotify:<br>ql repo https://github.com/ccwav/QLScript2.git <span class="hljs-string">&quot;jd_&quot;</span> <span class="hljs-string">&quot;NoUsed&quot;</span> <span class="hljs-string">&quot;ql|sendNotify|utils|USER_AGENTS|jdCookie|JS_USER_AGENTS&quot;</span><br>新版：<br>https://github.com/ccwav/QLScript2.git<br></code></pre></td></tr></table></figure>
<h2 id="设置环境变量"><a href="#设置环境变量" class="headerlink" title="设置环境变量"></a>设置环境变量</h2><p><img src="https://qnpicmap.fcsluck.top/pics/202312102335214.png" srcset="/img/loading.gif" lazyload></p>
<p>在浏览器的无痕模式中打开<code> https://m.jd.com/</code> ，然后使用手机号登陆，cookie 有效时间为一个月，失效后需要重新登陆获取新的 cookie 信息。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">https://m.jd.com/<br></code></pre></td></tr></table></figure>

<p>浏览器安装 editcookie 插件，登录后点击该插件搜索 pt 关键词，可以看到 pt_pin 和 pt_key，复制字段值在青龙面板添加 <code>JD_COOKIE</code>环境变量，格式为：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">pt_key=xxx;pt_pin=xxx;<br></code></pre></td></tr></table></figure>
<h2 id="添加完之后可以在定时任务中执行-CK-检测任务，检查-cookie-是否有效。"><a href="#添加完之后可以在定时任务中执行-CK-检测任务，检查-cookie-是否有效。" class="headerlink" title="添加完之后可以在定时任务中执行 CK 检测任务，检查 cookie 是否有效。"></a>添加完之后可以在定时任务中执行 CK 检测任务，检查 cookie 是否有效。<br><img src="https://qnpicmap.fcsluck.top/pics/202312102340085.png" srcset="/img/loading.gif" lazyload></h2><h1 id="Crawlab"><a href="#Crawlab" class="headerlink" title="Crawlab"></a>Crawlab</h1><h2 id="拉取镜像-3"><a href="#拉取镜像-3" class="headerlink" title="拉取镜像"></a>拉取镜像</h2><p>保证已经安装好 Docker，并能够拉取 Crawlab 和 MongoDB 的镜像。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sh">docker pull crawlabteam/crawlab<br>docker pull mongo<br></code></pre></td></tr></table></figure>
<h2 id="配置-Docker-compose-文件"><a href="#配置-Docker-compose-文件" class="headerlink" title="配置 Docker-compose 文件"></a>配置 Docker-compose 文件</h2><p>创建配置文件并命名为 <code>docker-compose.yml</code>，内容如下：</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs yml"><span class="hljs-attr">version:</span> <span class="hljs-string">&#x27;3.3&#x27;</span><br><span class="hljs-attr">services:</span><br>  <span class="hljs-attr">master:</span><br>    <span class="hljs-attr">image:</span> <span class="hljs-string">crawlabteam/crawlab</span><br>    <span class="hljs-attr">container_name:</span> <span class="hljs-string">crawlab_master</span><br>    <span class="hljs-attr">environment:</span><br>      <span class="hljs-attr">CRAWLAB_NODE_MASTER:</span> <span class="hljs-string">&quot;Y&quot;</span><br>      <span class="hljs-attr">CRAWLAB_MONGO_HOST:</span> <span class="hljs-string">&quot;mongo&quot;</span><br>    <span class="hljs-attr">ports:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">&quot;8080:8080&quot;</span><br>    <span class="hljs-attr">depends_on:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">mongo</span><br>  <span class="hljs-attr">mongo:</span><br>    <span class="hljs-attr">image:</span> <span class="hljs-string">mongo:latest</span><br></code></pre></td></tr></table></figure>
<h2 id="启动-Crawlab"><a href="#启动-Crawlab" class="headerlink" title="启动 Crawlab"></a>启动 Crawlab</h2><p>执行以下命令启动 Crawlab 以及 MongoDB。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">docker-compose up -d<br></code></pre></td></tr></table></figure>

<p>现在您可以打开浏览器并导航到 <code> http://localhost:8080</code> 并开始使用 Crawlab。</p>
<hr>
<h1 id="Coze-discord-proxy"><a href="#Coze-discord-proxy" class="headerlink" title="Coze-discord-proxy"></a>Coze-discord-proxy</h1><p>通过discord代理coze使用GPT4</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs sh">docker run --name coze-discord-proxy -d --restart always \<br>-p 7077:7077 \<br>-v $(<span class="hljs-built_in">pwd</span>)/data:/app/coze-discord-proxy/data \<br>-e BOT_TOKEN=<span class="hljs-string">&quot;MTIwOTM0MTM1NjM2Mzg4MjUwNg.GjfAJJ.P-UyJmqXvppdZvAvC0UIeg8X4felYU2bQTXg7I&quot;</span> \<br>-e GUILD_ID=<span class="hljs-string">&quot;1193462695295467550&quot;</span> \<br>-e COZE_BOT_ID=<span class="hljs-string">&quot;1209341026255376415&quot;</span> \<br>-e PROXY_SECRET=<span class="hljs-string">&quot;coze123456&quot;</span> \<br>-e CHANNEL_ID=<span class="hljs-string">&quot;1193462697321300008&quot;</span> \<br>-e TZ=Asia/Shanghai \<br>deanxv/coze-discord-proxy<br></code></pre></td></tr></table></figure>

<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs sh">docker run --name coze-discord-proxy -d --restart always \<br>-p 7077:7077 \<br>-v $(<span class="hljs-built_in">pwd</span>)/data:/app/coze-discord-proxy/data \<br>-e BOT_TOKEN=<span class="hljs-string">&quot;MTIwOTM0MTM1NjM2Mzg4MjUwNg.GjfAJJ.P-UyJmqXvppdZvAvC0UIeg8X4felYU2bQTXg7I&quot;</span> \<br>-e GUILD_ID=<span class="hljs-string">&quot;1193462695295467550&quot;</span> \<br>-e COZE_BOT_ID=<span class="hljs-string">&quot;1209341026255376415&quot;</span> \<br>-e PROXY_SECRET=<span class="hljs-string">&quot;coze123456&quot;</span> \<br>-e CHANNEL_ID=<span class="hljs-string">&quot;1193462697321300008&quot;</span> \<br>-e PROXY_URL=<span class="hljs-string">&quot;http://127.0.0.1:7890&quot;</span> \<br>-e TZ=Asia/Shanghai \<br>deanxv/coze-discord-proxy:latest<br></code></pre></td></tr></table></figure>

<blockquote>
<p>服务器开启clash-linux代理，使用rule代理规则，然后开启防火墙和安全组7890端口。</p>
</blockquote>
<hr>
<h1 id="Windows"><a href="#Windows" class="headerlink" title="Windows"></a>Windows</h1><h2 id="环境变量"><a href="#环境变量" class="headerlink" title="环境变量"></a>环境变量</h2><ol>
<li>cmd：<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-built_in">echo</span> %Path%  <span class="hljs-comment">#输出所有环境变量文件路径</span><br><span class="hljs-built_in">echo</span> %Path%  <span class="hljs-comment">#刷新环境变量</span><br></code></pre></td></tr></table></figure></li>
<li>powershell：<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-variable">$env</span>:path/<span class="hljs-variable">$Env</span>:PATH  <span class="hljs-comment">#输出所有环境变量文件路径</span><br>[System.Environment]::SetEnvironmentVariable(<span class="hljs-string">&quot;PATH&quot;</span>,<span class="hljs-variable">$env</span>:path+<span class="hljs-string">&quot;;C:\veryhappy&quot;</span>,[System.EnvironmentVariableTarget]::User/Machine) <span class="hljs-comment">#设置用户/系统新环境变量</span><br></code></pre></td></tr></table></figure></li>
</ol>
<h2 id="查看进程"><a href="#查看进程" class="headerlink" title="查看进程"></a>查看进程</h2><p>查询 pid 对应的进程所运行的程序。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">tasklist|findstr pid<br></code></pre></td></tr></table></figure>
<h2 id="关闭进程"><a href="#关闭进程" class="headerlink" title="关闭进程"></a>关闭进程</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">taskkill /f /t /im nginx/java.exe<br>taskkill /f /pid &lt;查询的PID号&gt;<br></code></pre></td></tr></table></figure>

<p><img src="https://qnpicmap.fcsluck.top/pics/202311182136214.png" srcset="/img/loading.gif" lazyload alt="image.png"></p>
<h2 id="查看端口"><a href="#查看端口" class="headerlink" title="查看端口"></a>查看端口</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell">netstat -ano #查看所有端口<br>netstat -ano | findstr &lt;端口号&gt;<br>netstat -ano | find &quot;关键字&quot;<br></code></pre></td></tr></table></figure>
<h2 id="生成依赖"><a href="#生成依赖" class="headerlink" title="生成依赖"></a>生成依赖</h2><p>当使用python开发项目时使用以下命令生成项目依赖文件：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sh">pip freeze &gt; requirements.txt <span class="hljs-comment">#含有python环境的所有依赖</span><br>pipreqs . --encoding=utf8 --force <span class="hljs-comment">#仅包含项目用到的依赖，可能会缺少部份依赖需手动补充</span><br></code></pre></td></tr></table></figure>
<h1 id="Linux"><a href="#Linux" class="headerlink" title="Linux"></a>Linux</h1><h2 id="切换用户"><a href="#切换用户" class="headerlink" title="切换用户"></a>切换用户</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">sudo su username(root) <span class="hljs-comment">#切换身份到目标用户</span><br></code></pre></td></tr></table></figure>
<h2 id="内核信息"><a href="#内核信息" class="headerlink" title="内核信息"></a>内核信息</h2><p>查看 Linux 系统内核的主要命令和方法有:</p>
<ol>
<li>uname 命令<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-built_in">uname</span> -r<br></code></pre></td></tr></table></figure></li>
</ol>
<p>显示当前正在使用的内核版本号。</p>
<ol start="2">
<li>查看&#x2F;proc&#x2F;version 文件</li>
</ol>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-built_in">cat</span> /proc/version<br></code></pre></td></tr></table></figure>

<p>文件中包含内核名称、版本、编译日期等详细信息。</p>
<ol start="3">
<li>rpm 命令(对于 RPM 包系统)</li>
</ol>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">rpm -q kernel-headers kernel-devel<br></code></pre></td></tr></table></figure>

<p>显示内核头文件和开发包的版本。</p>
<ol start="4">
<li>dpkg 命令(对于 Debian&#x2F;Ubuntu 系统)</li>
</ol>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">dpkg -l | grep linux-image<br></code></pre></td></tr></table></figure>

<p>显示所有已安装的内核包。</p>
<ol start="5">
<li>查看 grub 启动项</li>
</ol>
<p>对于 grub 启动引导,可以查看 &#x2F;boot&#x2F;grub&#x2F;grub.cfg 文件,找到默认引导的内核版本。</p>
<ol start="6">
<li>系统属性</li>
</ol>
<p>如系统设置-&gt;关于本机中也会显示内核版本。</p>
<ol start="7">
<li>sysctl 命令</li>
</ol>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">sysctl kernel.version<br></code></pre></td></tr></table></figure>

<p>直接显示内核版本号。</p>
<ol start="8">
<li>主机名和操作系统文件</li>
</ol>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-built_in">cat</span> /etc/hostname<br><span class="hljs-built_in">cat</span> /etc/*release<br></code></pre></td></tr></table></figure>
<h2 id="查看端口-1"><a href="#查看端口-1" class="headerlink" title="查看端口"></a>查看端口</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell">netstat -tuln | grep :&lt;端口号&gt;<br>netstat -nplt #查看所有端口<br>netstat -tuln #查看所有端口<br></code></pre></td></tr></table></figure>
<blockquote>
<p><strong>netstat</strong> 参数含义：<br>-a (all)显示所有选项，默认不显示 LISTEN 相关<br>-t (tcp)仅显示 tcp 相关选项<br>-u (udp)仅显示 udp 相关选项<br>-n 拒绝显示别名，能显示数字的全部转化成数字。<br>-l 仅列出有在 Listen (监听) 的服務状态<br>-p 显示建立相关链接的程序名<br>-r 显示路由信息，路由表<br>-e 显示扩展信息，例如 uid 等<br>-s 按各个协议进行统计<br>-c 每隔一个固定时间，执行该 netstat 命令。</p>
</blockquote>
<h2 id="查看程序"><a href="#查看程序" class="headerlink" title="查看程序"></a>查看程序</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">ps -ef | grep java #查询java进程的程序<br>ps -ef #查看正在运行的进程<br></code></pre></td></tr></table></figure>
<h2 id="安装服务"><a href="#安装服务" class="headerlink" title="安装服务"></a>安装服务</h2><p><code>yum</code> 工具中常见的几个主要参数如下:</p>
<ul>
<li>y: 执行命令时根据提示自动进行 Yes 答复。等同于–assumeyes。</li>
<li>C: 只检查是否需要进行包更新,但不实际安装&#x2F;升级包。</li>
<li>d: 下载包文件但不安装&#x2F;升级。通常与-y 一起使用。</li>
<li>e: 安装程序时产生详细输出信息。</li>
<li>q: 执行”搜索”操作时本身不输出任何搜索结果,只返回退出状态。</li>
<li>R: 将安装时需要下载的依赖包一并保存下来可以离线安装。</li>
<li>y: 和–assumeyes 参数一样,自动答复 yes,而不询问或提示。</li>
<li>update: 更新已安装的软件包到最新版本。</li>
<li>upgrade: 升级系统,更新所有软件包到最新版本。 </li>
<li>check-update:检查是否有更新。</li>
<li>list: 显示已安装和可更新的软件包列表。</li>
<li>search: 搜索软件包。</li>
<li>install: 安装软件包。</li>
<li>remove: 只删除软件包文件,但不删除软件的配置文件和数据文件。 </li>
<li>erase: 除了删除软件包文件外,还会删除该软件产生的所有配置文件和数据文件。实现了更彻底的卸载和清理。</li>
</ul>
<h2 id="防火墙"><a href="#防火墙" class="headerlink" title="防火墙"></a>防火墙</h2><h3 id="Centos-7"><a href="#Centos-7" class="headerlink" title="Centos 7"></a>Centos 7</h3><ol>
<li><strong>防火墙的开启、关闭、禁用命令</strong><blockquote>
<p>（1）设置开机启用防火墙：<code>systemctl enable firewalld.service</code><br>（2）设置开机禁用防火墙：<code>systemctl disable firewalld.service</code><br>（3）启动防火墙：<code>systemctl start firewalld</code><br>（4）关闭防火墙：<code>systemctl stop firewalld</code><br>（5）重启防火墙：<code>systemctl restart firewalld</code>（<em>重启后新添加的端口配置才生效</em>）<br>（5）检查防火墙状态：<code>systemctl status firewalld</code> </p>
</blockquote>
</li>
<li><strong>使用 firewall-cmd 配置端口</strong><blockquote>
<p>（1）查看防火墙状态：<code>firewall-cmd --state</code><br>（2）重新加载配置：<code>firewall-cmd --reload</code><br>（3）查看开放的端口：<code>firewall-cmd --list-ports</code><br>（4）开启防火墙端口：<code>firewall-cmd --zone=public --add-port=9200/tcp --permanent</code></p>
</blockquote>
</li>
</ol>
<h2 id="文件处理"><a href="#文件处理" class="headerlink" title="文件处理"></a>文件处理</h2><h3 id="查看目录"><a href="#查看目录" class="headerlink" title="查看目录"></a>查看目录</h3><p>显示指定目录的详细信息</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-built_in">ls</span> -l [目录或者文件]<br></code></pre></td></tr></table></figure>

<p>显示指定目录的隐藏文件</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-built_in">ls</span> -al [目录或者文件]<br></code></pre></td></tr></table></figure>

<p>查找文件</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">find -name .bashrc<br></code></pre></td></tr></table></figure>
<h3 id="查看文件大小"><a href="#查看文件大小" class="headerlink" title="查看文件大小"></a>查看文件大小</h3><p>显示更加人性化</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-built_in">du</span> -h file.txt<br></code></pre></td></tr></table></figure>

<p>使用ls命令结合选项-l或者–size，可以查看文件的详细信息，包括文件大小。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-built_in">ls</span> -l file.txt<br></code></pre></td></tr></table></figure>
<h3 id="删除文件"><a href="#删除文件" class="headerlink" title="删除文件"></a>删除文件</h3><p>强制删除不提示</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">rm</span> -f 文件名<br></code></pre></td></tr></table></figure>

<p>删除整个文件夹并不提示</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">rm</span> -rf 目录名<br></code></pre></td></tr></table></figure>
<h3 id="复制迁移文件"><a href="#复制迁移文件" class="headerlink" title="复制迁移文件"></a>复制迁移文件</h3><p>复制单个文件到文件夹中</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cp</span> 文件 文件夹<br></code></pre></td></tr></table></figure>

<p>复制整个文件夹到另一个文件夹中</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cp</span> -r 源文件夹 目标文件夹<br></code></pre></td></tr></table></figure>

<p>重命名文件或文件夹</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">mv</span> 源文件名 新文件名<br></code></pre></td></tr></table></figure>

<p>移动文件或文件夹</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">mv</span> 源文件 目标文件<br></code></pre></td></tr></table></figure>
<h3 id="查看文件"><a href="#查看文件" class="headerlink" title="查看文件"></a>查看文件</h3><p>查看文件详细信息</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-built_in">stat</span> 文件名<br></code></pre></td></tr></table></figure>

<p>查看文件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">more/cat 文件名<br></code></pre></td></tr></table></figure>

<p>查看文件，要求显示行号并分页</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cat</span> -n 文件名 | more<br></code></pre></td></tr></table></figure>

<p>默认查看文件后 10 行</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">tail</span> 文件名<br></code></pre></td></tr></table></figure>

<p>查看文件末尾 5 行的内容</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">tail</span> -n 5 文件名<br></code></pre></td></tr></table></figure>

<p>实时追踪文档的更新</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">tail</span> -f 文件名<br></code></pre></td></tr></table></figure>

<p>输出你好</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">echo</span> 你好<br></code></pre></td></tr></table></figure>

<p>在文件末尾添加内容</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">echo</span> 内容 &gt;&gt; 文件名<br></code></pre></td></tr></table></figure>

<p>覆盖文件的所有内容</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">echo</span> 新内容 &gt; 文件名<br></code></pre></td></tr></table></figure>

<p>把文件内容写入到另一个文件的末尾</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cat</span> 文件名 1 &gt;&gt; 文件名 2<br></code></pre></td></tr></table></figure>

<p>在当前目录建立一个指向&#x2F;tmp 目录的硬链接</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">ln</span> /tmp 自定义链接名<br></code></pre></td></tr></table></figure>

<p>在当前目录建立一个指向&#x2F;tmp 目录的软链接</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">ln</span> -s /tmp 自定义链接 h<br></code></pre></td></tr></table></figure>

<p>查看&#x2F;tmp 目录是否存在名为 log.txt 文件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">find /tmp -name log.txt<br></code></pre></td></tr></table></figure>

<p>查看&#x2F;tmp 目录是否存在小于超过 2M 的文件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">find /tmp -size -2M<br></code></pre></td></tr></table></figure>

<p>查看整个系统是否存在大于 100M 的文件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">find / -size +100M<br></code></pre></td></tr></table></figure>

<p>查看文件中，在第几行有 yes</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cat</span> 文件名 | grep -n <span class="hljs-built_in">yes</span><br></code></pre></td></tr></table></figure>

<p>查看文件中，在第几行有 yes 并忽略大小写</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cat</span> 文件名 | grep -ni <span class="hljs-built_in">yes</span><br></code></pre></td></tr></table></figure>
<h3 id="展示树形结构"><a href="#展示树形结构" class="headerlink" title="展示树形结构"></a>展示树形结构</h3><p>tree 命令可以用来以树形结构显示目录的内容。它的主要用法如下:</p>
<ol>
<li>显示当前目录下的文件和目录结构:<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">tree<br></code></pre></td></tr></table></figure></li>
<li>显示指定目录下的文件和目录结构:<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">tree /path/to/directory<br></code></pre></td></tr></table></figure></li>
<li>只显示指定深度内的结构:<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">tree -L 2  // 只显示两层深度的目录结构<br></code></pre></td></tr></table></figure></li>
<li>不递归显示,只显示指定目录的直接内容:<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">tree -I<br></code></pre></td></tr></table></figure></li>
<li>隐藏空目录:<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">tree -I -D<br></code></pre></td></tr></table></figure></li>
<li>输出为颜色图示:<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">tree -C<br></code></pre></td></tr></table></figure></li>
<li>指定后缀只显示匹配文件的结构: <figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">tree -P <span class="hljs-string">&#x27;*.txt&#x27;</span><br></code></pre></td></tr></table></figure></li>
<li>将结构输出到指定文件:<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">tree &gt; directory.txt<br></code></pre></td></tr></table></figure></li>
<li>对输出进行压缩:<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">tree -C -z<br></code></pre></td></tr></table></figure></li>
</ol>
<h3 id="解压文件"><a href="#解压文件" class="headerlink" title="解压文件"></a>解压文件</h3><p>把文件压缩为.gz 尾缀的压缩文件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">gzip 文件.gz<br></code></pre></td></tr></table></figure>

<p>解压 gz 尾缀的文件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">gunzip 文件.gz<br></code></pre></td></tr></table></figure>

<p>把&#x2F;tmp 文件夹的所有文件压缩成.zip 尾缀的压缩文件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">zip -r 文件.zip /tmp<br></code></pre></td></tr></table></figure>

<p>解压 zip 尾缀的文件，解压到&#x2F;root 目录下</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">unzip -d  /root 文件.zip<br></code></pre></td></tr></table></figure>

<p>把&#x2F;tmp 文件夹的所有文件压缩为.tar.gz 尾缀的压缩文件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">tar -zcvf 文件.tar.gz /tmp<br></code></pre></td></tr></table></figure>

<p>解压.tar.gz 尾缀的文件，解压到&#x2F;root 目录下</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">tar -zxvf 文件.tar.gz -C  /root<br></code></pre></td></tr></table></figure>
<h2 id="进程管理"><a href="#进程管理" class="headerlink" title="进程管理"></a>进程管理</h2><p>查看某进程的资源占用情况</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">top -p 进程号<br></code></pre></td></tr></table></figure>

<p>找出占用 CPU 最多的进程</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">top，然后按大写的 P<br></code></pre></td></tr></table></figure>

<p>找出占用内存最多的进程</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">top，然后按大写的 M<br></code></pre></td></tr></table></figure>

<p>查看正在运行的进程</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">ps -ef<br></code></pre></td></tr></table></figure>

<p>查看有关 mysql 的进程信息</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">ps -ef | grep mysql<br></code></pre></td></tr></table></figure>

<p>正常杀死进程</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">kill</span> -15 PID 号<br><span class="hljs-built_in">kill</span> -12 pid <span class="hljs-comment">#安全关闭</span><br></code></pre></td></tr></table></figure>

<p>强制杀死进程</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">kill</span> -9 pid <span class="hljs-comment">#强制关闭</span><br></code></pre></td></tr></table></figure>

<p>找出 CPU 占用高的进程 ID</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">top -c<br></code></pre></td></tr></table></figure>

<p>根据进程 ID，找出 CPU 占用高的线程 ID</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">ps H -eo pid,tid,%cpu | grep 进程 ID<br></code></pre></td></tr></table></figure>

<p>输出‘指定进程 ID 的 16 进制’</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">printf</span> <span class="hljs-string">&quot;%x\n&quot;</span> 进程 ID<br></code></pre></td></tr></table></figure>

<p>根据‘指定进程 ID 的 16 进制’，查看到底是哪里 java 的代码问题</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">jstack 进程 ID | grep 指定进程 ID 的 16 进制 -A20<br></code></pre></td></tr></table></figure>
<h1 id="README"><a href="#README" class="headerlink" title="README"></a>README</h1><h2 id="简单模板"><a href="#简单模板" class="headerlink" title="简单模板"></a>简单模板</h2><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><code class="hljs markdown"><span class="hljs-section"># Title</span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">align</span>=<span class="hljs-string">&quot;center&quot;</span>&gt;</span></span>Welcome to  👋<span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">&quot;Version&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://img.shields.io/badge/version-1.0.0-blue.svg?cacheSeconds=2592000&quot;</span> /&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://img.shields.io/badge/node-%3E%3D16.13.0-blue.svg&quot;</span> /&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;https://github.com/Alleyf/big-event#readme&quot;</span> <span class="hljs-attr">target</span>=<span class="hljs-string">&quot;_blank&quot;</span>&gt;</span></span><br><span class="hljs-code">    &lt;img alt=&quot;Documentation&quot; src=&quot;https://img.shields.io/badge/documentation-yes-brightgreen.svg&quot; /&gt;</span><br><span class="hljs-code">  &lt;/a&gt;</span><br><span class="hljs-code">  &lt;a href=&quot;https://github.com/Alleyf/big-event/graphs/commit-activity&quot; target=&quot;_blank&quot;&gt;</span><br><span class="hljs-code">    &lt;img alt=&quot;Maintenance&quot; src=&quot;https://img.shields.io/badge/Maintained%3F-yes-green.svg&quot; /&gt;</span><br><span class="hljs-code">  &lt;/a&gt;</span><br><span class="hljs-code">  &lt;a href=&quot;https://github.com/Alleyf/big-event/blob/master/LICENSE&quot; target=&quot;_blank&quot;&gt;</span><br><span class="hljs-code">    &lt;img alt=&quot;License: MIT&quot; src=&quot;https://img.shields.io/github/license/Alleyf/big-event&quot; /&gt;</span><br><span class="hljs-code">  &lt;/a&gt;</span><br><span class="hljs-code">&lt;/p&gt;</span><br><span class="hljs-code">## Introduction</span><br><span class="hljs-code">&gt;</span><br><span class="hljs-code">## Install</span><br><span class="hljs-code">## Dependency</span><br><span class="hljs-code">* springboot3</span><br><span class="hljs-code">* vue3</span><br><span class="hljs-code">* vite</span><br><span class="hljs-code">* oss</span><br><span class="hljs-code">* vue-router</span><br><span class="hljs-code">* axios</span><br><span class="hljs-code">* element-plus</span><br><span class="hljs-code">* tinymce</span><br><span class="hljs-code">* quill</span><br><span class="hljs-code">* pinia</span><br><span class="hljs-code">## Usage</span><br><span class="hljs-code">## Demo</span><br><span class="hljs-code">## Contributing</span><br><span class="hljs-code">Contributions, issues and feature requests are welcome!&lt;br /&gt;Feel free to</span><br><span class="hljs-code">check [issues page](https://github.com/Alleyf/big-event/issues). You can also take a look at</span><br><span class="hljs-code">the [contributing guide](https://github.com/Alleyf/big-event/blob/master/CONTRIBUTING.md).</span><br><span class="hljs-code">## Show your support</span><br><span class="hljs-code">Give a ⭐️ if this project helped you!</span><br><span class="hljs-code">## License</span><br><span class="hljs-code">Copyright © 2024 [Alleyf](https://github.com/Alleyf).&lt;br /&gt;</span><br><span class="hljs-code">This project is [MIT](https://github.com/Alleyf/big-event/blob/master/LICENSE) licensed.</span><br><span class="hljs-code">## Acknowledgment</span><br><span class="hljs-code">## Author</span><br><span class="hljs-code">👤 **Alleyf**</span><br><span class="hljs-code">* Website: https://alleyf.github.io/</span><br><span class="hljs-code">* Github: [@Alleyf](https://github.com/Alleyf)</span><br><span class="hljs-code">### 🏠 [Homepage](https://github.com/Alleyf/big-event#readme)</span><br><span class="hljs-code">## Star History</span><br><span class="hljs-code">&lt;picture&gt;</span><br><span class="hljs-code">    &lt;source media=&quot;(prefers-color-scheme: dark)&quot; srcset=&quot;https://api.star-history.com/svg?repos=Alleyf/big-event&amp;type=Date&amp;theme=dark&quot; /&gt;</span><br><span class="hljs-code">    &lt;source media=&quot;(prefers-color-scheme: light)&quot; srcset=&quot;https://api.star-history.com/svg?repos=Alleyf/big-event&amp;type=Date&quot; /&gt;</span><br><span class="hljs-code">    &lt;img alt=&quot;Star History Chart&quot; src=&quot;https://api.star-history.com/svg?repos=Alleyf/big-event&amp;type=Date&quot; /&gt;</span><br><span class="hljs-code">&lt;/picture&gt;</span><br></code></pre></td></tr></table></figure>
<h2 id="完整模板"><a href="#完整模板" class="headerlink" title="完整模板"></a>完整模板</h2><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br></pre></td><td class="code"><pre><code class="hljs markdown"><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;readme-top&quot;</span>&gt;</span></span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span></span><br>&lt;!-- PROJECT SHIELDS --&gt;<br>[<span class="hljs-string">![Contributors</span>][<span class="hljs-symbol">contributors-shield</span>]][<span class="hljs-symbol">contributors-url</span>]<br>[<span class="hljs-string">![Forks</span>][<span class="hljs-symbol">forks-shield</span>]][<span class="hljs-symbol">forks-url</span>]<br>[<span class="hljs-string">![Stargazers</span>][<span class="hljs-symbol">stars-shield</span>]][<span class="hljs-symbol">stars-url</span>]<br>[<span class="hljs-string">![Issues</span>][<span class="hljs-symbol">issues-shield</span>]][<span class="hljs-symbol">issues-url</span>]<br>[<span class="hljs-string">![MIT License</span>][<span class="hljs-symbol">license-shield</span>]][<span class="hljs-symbol">license-url</span>]<br>[<span class="hljs-string">![LinkedIn</span>][<span class="hljs-symbol">linkedin-shield</span>]][<span class="hljs-symbol">linkedin-url</span>]<br>&lt;!-- PROJECT LOGO --&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">align</span>=<span class="hljs-string">&quot;center&quot;</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;https://github.com/github_username/repo_name&quot;</span>&gt;</span></span><br><span class="hljs-code">    &lt;img src=&quot;images/logo.png&quot; alt=&quot;Logo&quot; width=&quot;80&quot; height=&quot;80&quot;&gt;</span><br><span class="hljs-code">  &lt;/a&gt;</span><br><span class="hljs-code">&lt;h3 align=&quot;center&quot;&gt;project_title&lt;/h3&gt;</span><br><span class="hljs-code">  &lt;p align=&quot;center&quot;&gt;</span><br><span class="hljs-code">    project_description</span><br><span class="hljs-code">    &lt;br /&gt;</span><br><span class="hljs-code">    &lt;a href=&quot;https://github.com/github_username/repo_name&quot;&gt;&lt;strong&gt;Explore the docs »&lt;/strong&gt;&lt;/a&gt;</span><br><span class="hljs-code">    &lt;br /&gt;</span><br><span class="hljs-code">    &lt;br /&gt;</span><br><span class="hljs-code">    &lt;a href=&quot;https://github.com/github_username/repo_name&quot;&gt;View Demo&lt;/a&gt;</span><br><span class="hljs-code">    ·</span><br><span class="hljs-code">    &lt;a href=&quot;https://github.com/github_username/repo_name/issues&quot;&gt;Report Bug&lt;/a&gt;</span><br><span class="hljs-code">    ·</span><br><span class="hljs-code">    &lt;a href=&quot;https://github.com/github_username/repo_name/issues&quot;&gt;Request Feature&lt;/a&gt;</span><br><span class="hljs-code">  &lt;/p&gt;</span><br><span class="hljs-code">&lt;/div&gt;</span><br><span class="hljs-code">&lt;!-- TABLE OF CONTENTS --&gt;</span><br><span class="hljs-code">&lt;details&gt;</span><br><span class="hljs-code">  &lt;summary&gt;Table of Contents&lt;/summary&gt;</span><br><span class="hljs-code">  &lt;ol&gt;</span><br><span class="hljs-code">    &lt;li&gt;</span><br><span class="hljs-code">      &lt;a href=&quot;#about-the-project&quot;&gt;About The Project&lt;/a&gt;</span><br><span class="hljs-code">      &lt;ul&gt;</span><br><span class="hljs-code">        &lt;li&gt;&lt;a href=&quot;#built-with&quot;&gt;Built With&lt;/a&gt;&lt;/li&gt;</span><br><span class="hljs-code">      &lt;/ul&gt;</span><br><span class="hljs-code">    &lt;/li&gt;</span><br><span class="hljs-code">    &lt;li&gt;</span><br><span class="hljs-code">      &lt;a href=&quot;#getting-started&quot;&gt;Getting Started&lt;/a&gt;</span><br><span class="hljs-code">      &lt;ul&gt;</span><br><span class="hljs-code">        &lt;li&gt;&lt;a href=&quot;#prerequisites&quot;&gt;Prerequisites&lt;/a&gt;&lt;/li&gt;</span><br><span class="hljs-code">        &lt;li&gt;&lt;a href=&quot;#installation&quot;&gt;Installation&lt;/a&gt;&lt;/li&gt;</span><br><span class="hljs-code">      &lt;/ul&gt;</span><br><span class="hljs-code">    &lt;/li&gt;</span><br><span class="hljs-code">    &lt;li&gt;&lt;a href=&quot;#usage&quot;&gt;Usage&lt;/a&gt;&lt;/li&gt;</span><br><span class="hljs-code">    &lt;li&gt;&lt;a href=&quot;#roadmap&quot;&gt;Roadmap&lt;/a&gt;&lt;/li&gt;</span><br><span class="hljs-code">    &lt;li&gt;&lt;a href=&quot;#contributing&quot;&gt;Contributing&lt;/a&gt;&lt;/li&gt;</span><br><span class="hljs-code">    &lt;li&gt;&lt;a href=&quot;#license&quot;&gt;License&lt;/a&gt;&lt;/li&gt;</span><br><span class="hljs-code">    &lt;li&gt;&lt;a href=&quot;#contact&quot;&gt;Contact&lt;/a&gt;&lt;/li&gt;</span><br><span class="hljs-code">    &lt;li&gt;&lt;a href=&quot;#acknowledgments&quot;&gt;Acknowledgments&lt;/a&gt;&lt;/li&gt;</span><br><span class="hljs-code">  &lt;/ol&gt;</span><br><span class="hljs-code">&lt;/details&gt;</span><br><span class="hljs-code">&lt;!-- ABOUT THE PROJECT --&gt;</span><br><span class="hljs-code">## About The Project</span><br><span class="hljs-code">[![Product Name Screen Shot][product-screenshot]](https://example.com)</span><br><span class="hljs-code">&lt;p align=&quot;right&quot;&gt;(&lt;a href=&quot;#readme-top&quot;&gt;back to top&lt;/a&gt;)&lt;/p&gt;</span><br><span class="hljs-code">### Built With</span><br><span class="hljs-code">* [![Vue][Vue.js]][Vue-url]</span><br><span class="hljs-code">* [![Bootstrap][Bootstrap.com]][Bootstrap-url]</span><br><span class="hljs-code">* [![JQuery][JQuery.com]][JQuery-url]</span><br><span class="hljs-code">&lt;p align=&quot;right&quot;&gt;(&lt;a href=&quot;#readme-top&quot;&gt;back to top&lt;/a&gt;)&lt;/p&gt;</span><br><span class="hljs-code">&lt;!-- GETTING STARTED --&gt;</span><br><span class="hljs-code">## Getting Started</span><br><span class="hljs-code">This is an example of how you may give instructions on setting up your project locally.</span><br><span class="hljs-code">To get a local copy up and running follow these simple example steps.</span><br><span class="hljs-code">### Prerequisites</span><br><span class="hljs-code">This is an example of how to list things you need to use the software and how to install them.</span><br><span class="hljs-code">npm</span><br><span class="hljs-code">`npm install npm@latest -g`</span><br><span class="hljs-code">### Installation</span><br><span class="hljs-code">1. Get a free API Key at [https://example.com](https://example.com)</span><br><span class="hljs-code">2. Clone the repo</span><br><span class="hljs-code">`git clone https://github.com/github_username/repo_name.git`</span><br><span class="hljs-code">1. Install NPM packages</span><br><span class="hljs-code">   `npm install`</span><br><span class="hljs-code">1. Enter your API in `config.js`</span><br><span class="hljs-code">   `const API_KEY = &#x27;ENTER YOUR API&#x27;;`</span><br><span class="hljs-code">&lt;p align=&quot;right&quot;&gt;(&lt;a href=&quot;#readme-top&quot;&gt;back to top&lt;/a&gt;)&lt;/p&gt;</span><br><span class="hljs-code">&lt;!-- USAGE EXAMPLES --&gt;</span><br><span class="hljs-code">## Usage</span><br><span class="hljs-code">_For more examples, please refer to the [Documentation](https://example.com)_</span><br><span class="hljs-code">&lt;p align=&quot;right&quot;&gt;(&lt;a href=&quot;#readme-top&quot;&gt;back to top&lt;/a&gt;)&lt;/p&gt;</span><br><span class="hljs-code">&lt;!-- ROADMAP --&gt;</span><br><span class="hljs-code">## Roadmap</span><br><span class="hljs-code">- [ ] Feature 1</span><br><span class="hljs-code">- [ ] Feature 2</span><br><span class="hljs-code">- [ ] Feature 3</span><br><span class="hljs-code">    - [ ] Nested Feature</span><br><span class="hljs-code">See the [open issues](https://github.com/github_username/repo_name/issues) for a full list of proposed features (and known issues).</span><br><span class="hljs-code">&lt;p align=&quot;right&quot;&gt;(&lt;a href=&quot;#readme-top&quot;&gt;back to top&lt;/a&gt;)&lt;/p&gt;</span><br><span class="hljs-code">&lt;!-- CONTRIBUTING --&gt;</span><br><span class="hljs-code">## Contributing</span><br><span class="hljs-code">If you have a suggestion that would make this better, please fork the repo and create a pull request. You can also simply open an issue with the tag &quot;enhancement&quot;.</span><br><span class="hljs-code">Don&#x27;t forget to give the project a star! Thanks again!</span><br><span class="hljs-code">1. Fork the Project</span><br><span class="hljs-code">2. Create your Feature Branch (`git checkout -b feature/AmazingFeature`)</span><br><span class="hljs-code">3. Commit your Changes (`git commit -m &#x27;Add some AmazingFeature&#x27;`)</span><br><span class="hljs-code">4. Push to the Branch (`git push origin feature/AmazingFeature`)</span><br><span class="hljs-code">5. Open a Pull Request</span><br><span class="hljs-code">&lt;p align=&quot;right&quot;&gt;(&lt;a href=&quot;#readme-top&quot;&gt;back to top&lt;/a&gt;)&lt;/p&gt;</span><br><span class="hljs-code">&lt;!-- LICENSE --&gt;</span><br><span class="hljs-code">## License</span><br><span class="hljs-code">&lt;p align=&quot;right&quot;&gt;(&lt;a href=&quot;#readme-top&quot;&gt;back to top&lt;/a&gt;)&lt;/p&gt;</span><br><span class="hljs-code">&lt;!-- CONTACT --&gt;</span><br><span class="hljs-code">## Contact  </span><br><span class="hljs-code">- [Alleyf@Blog](https://alleyf.github.io)  </span><br><span class="hljs-code">- [Alleyf@Email](alleyf@qq.com)  </span><br><span class="hljs-code">&lt;p align=&quot;right&quot;&gt;(&lt;a href=&quot;#readme-top&quot;&gt;back to top&lt;/a&gt;)&lt;/p&gt;</span><br><span class="hljs-code">&lt;!-- ACKNOWLEDGMENTS --&gt;</span><br><span class="hljs-code">## Acknowledgments</span><br><span class="hljs-code">* []()</span><br><span class="hljs-code">* []()</span><br><span class="hljs-code">* []()</span><br><span class="hljs-code">&lt;p align=&quot;right&quot;&gt;(&lt;a href=&quot;#readme-top&quot;&gt;back to top&lt;/a&gt;)&lt;/p&gt;</span><br><span class="hljs-code">&lt;!-- MARKDOWN LINKS &amp; IMAGES --&gt;</span><br><span class="hljs-code">[Vue.js](https://img.shields.io/badge/Vue.js-35495E?style=for-the-badge&amp;logo=vuedotjs&amp;logoColor=4FC08D)</span><br><span class="hljs-code">[Vue-url](https://vuejs.org/)</span><br></code></pre></td></tr></table></figure>
<h2 id="CLI-生成器"><a href="#CLI-生成器" class="headerlink" title="CLI 生成器"></a>CLI 生成器</h2><p>通过<a target="_blank" rel="noopener" href="https://github.com/kefranabg/readme-md-generator">GitHub - kefranabg&#x2F;readme-md-generator: 📄 CLI that generates beautiful README.md files</a>在命令行输入 <code>npx</code>指令生成readme文件。</p>
<p>生成前可以先配置<code>package.json</code>文件包含项目相关信息，生成器会读取文件中的信息进行生成。</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-comment">// The package.json is not required to run README-MD-GENERATOR</span><br><span class="hljs-punctuation">&#123;</span><br>  <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;readme-md-generator&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;version&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;1.0.0&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;description&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;CLI that generates beautiful README.md files.&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;author&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Alleyf&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;license&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;MIT&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;homepage&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;https://github.com/kefranabg/readme-md-generator#readme&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;repository&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;type&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;git&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;url&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;git+https://github.com/kefranabg/readme-md-generator.git&quot;</span><br>  <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;bugs&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;url&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;https://github.com/kefranabg/readme-md-generator/issues&quot;</span><br>  <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;engines&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;npm&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;&gt;=5.5.0&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;node&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;&gt;=9.3.0&quot;</span><br>  <span class="hljs-punctuation">&#125;</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure>

<p>命令行输入以下指令生成：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">npx readme-md-generator -y<br></code></pre></td></tr></table></figure>

<p><img src="https://user-images.githubusercontent.com/9840435/60266022-72a82400-98e7-11e9-9958-f9004c2f97e1.gif" srcset="/img/loading.gif" lazyload alt="|500"></p>
<hr>
<h1 id="SpringCloud-Alibaba版本"><a href="#SpringCloud-Alibaba版本" class="headerlink" title="SpringCloud-Alibaba版本"></a>SpringCloud-Alibaba版本</h1><p>由于 Spring Boot 3.0，Spring Boot 2.7~2.4 和 2.4 以下版本之间变化较大，目前企业级客户老项目相关 Spring Boot 版本仍停留在 Spring Boot 2.4 以下，为了同时满足存量用户和新用户不同需求，社区以 Spring Boot 3.0 和 2.4 分别为分界线，同时维护 2022.x、2021.x、2.2.x 三个分支迭代。如果不想跨分支升级，如需使用新特性，请升级为对应分支的新版本。 为了规避相关构建过程中的依赖冲突问题，我们建议可以通过 <a target="_blank" rel="noopener" href="https://start.aliyun.com/">云原生应用脚手架</a> 进行项目创建。</p>
<h2 id="2022-x-分支"><a href="#2022-x-分支" class="headerlink" title="2022.x 分支"></a>2022.x 分支</h2><p>适配 Spring Boot 3.0，Spring Cloud 2022.x 版本及以上的 Spring Cloud Alibaba 版本按从新到旧排列如下表（最新版本用*标记）： <em>(注意，该分支 Spring Cloud Alibaba 版本命名方式进行了调整，未来将对应 Spring Cloud 版本，前三位为 Spring Cloud 版本，最后一位为扩展版本，比如适配 Spring Cloud 2022.0.0 版本对应的 Spring Cloud Alibaba 第一个版本为：2022.0.0.0，第个二版本为：2022.0.0.1，依此类推)</em></p>
<table>
<thead>
<tr>
<th>Spring Cloud Alibaba Version</th>
<th>Spring Cloud Version</th>
<th>Spring Boot Version</th>
</tr>
</thead>
<tbody><tr>
<td>2022.0.0.0*</td>
<td>Spring Cloud 2022.0.0</td>
<td>3.0.2</td>
</tr>
<tr>
<td>2022.0.0.0-RC2</td>
<td>Spring Cloud 2022.0.0</td>
<td>3.0.2</td>
</tr>
<tr>
<td>2022.0.0.0-RC1</td>
<td>Spring Cloud 2022.0.0</td>
<td>3.0.0</td>
</tr>
</tbody></table>
<h2 id="2021-x-分支"><a href="#2021-x-分支" class="headerlink" title="2021.x 分支"></a>2021.x 分支</h2><p>适配 Spring Boot 2.4，Spring Cloud 2021.x 版本及以上的 Spring Cloud Alibaba 版本按从新到旧排列如下表（最新版本用*标记）：</p>
<table>
<thead>
<tr>
<th>Spring Cloud Alibaba Version</th>
<th>Spring Cloud Version</th>
<th>Spring Boot Version</th>
</tr>
</thead>
<tbody><tr>
<td>2021.0.5.0*</td>
<td>Spring Cloud 2021.0.5</td>
<td>2.6.13</td>
</tr>
<tr>
<td>2021.0.4.0</td>
<td>Spring Cloud 2021.0.4</td>
<td>2.6.11</td>
</tr>
<tr>
<td>2021.0.1.0</td>
<td>Spring Cloud 2021.0.1</td>
<td>2.6.3</td>
</tr>
<tr>
<td>2021.1</td>
<td>Spring Cloud 2020.0.1</td>
<td>2.4.2</td>
</tr>
</tbody></table>
<h2 id="2-2-x-分支"><a href="#2-2-x-分支" class="headerlink" title="2.2.x 分支"></a>2.2.x 分支</h2><p>适配 Spring Boot 为 2.4，Spring Cloud Hoxton 版本及以下的 Spring Cloud Alibaba 版本按从新到旧排列如下表（最新版本用*标记）：</p>
<table>
<thead>
<tr>
<th>Spring Cloud Alibaba Version</th>
<th>Spring Cloud Version</th>
<th>Spring Boot Version</th>
</tr>
</thead>
<tbody><tr>
<td>2.2.10-RC1*</td>
<td>Spring Cloud Hoxton.SR12</td>
<td>2.3.12.RELEASE</td>
</tr>
<tr>
<td>2.2.9.RELEASE</td>
<td>Spring Cloud Hoxton.SR12</td>
<td>2.3.12.RELEASE</td>
</tr>
<tr>
<td>2.2.8.RELEASE</td>
<td>Spring Cloud Hoxton.SR12</td>
<td>2.3.12.RELEASE</td>
</tr>
<tr>
<td>2.2.7.RELEASE</td>
<td>Spring Cloud Hoxton.SR12</td>
<td>2.3.12.RELEASE</td>
</tr>
<tr>
<td>2.2.6.RELEASE</td>
<td>Spring Cloud Hoxton.SR9</td>
<td>2.3.2.RELEASE</td>
</tr>
<tr>
<td>2.2.1.RELEASE</td>
<td>Spring Cloud Hoxton.SR3</td>
<td>2.2.5.RELEASE</td>
</tr>
<tr>
<td>2.2.0.RELEASE</td>
<td>Spring Cloud Hoxton.RELEASE</td>
<td>2.2.X.RELEASE</td>
</tr>
<tr>
<td>2.1.4.RELEASE</td>
<td>Spring Cloud Greenwich.SR6</td>
<td>2.1.13.RELEASE</td>
</tr>
<tr>
<td>2.1.2.RELEASE</td>
<td>Spring Cloud Greenwich</td>
<td>2.1.X.RELEASE</td>
</tr>
<tr>
<td>2.0.4.RELEASE(停止维护，建议升级)</td>
<td>Spring Cloud Finchley</td>
<td>2.0.X.RELEASE</td>
</tr>
<tr>
<td>1.5.1.RELEASE(停止维护，建议升级)</td>
<td>Spring Cloud Edgware</td>
<td>1.5.X.RELEASE</td>
</tr>
</tbody></table>
<h2 id="组件版本关系"><a href="#组件版本关系" class="headerlink" title="组件版本关系"></a>组件版本关系</h2><h2 id="每个-Spring-Cloud-Alibaba-版本及其自身所适配的各组件对应版本如下表所示（注意，Spring-Cloud-Dubbo-从-2021-0-1-0-起已被移除出主干，不再随主干演进）：-Spring-Cloud-Alibaba-Version-Sentinel-Version-Nacos-Version-RocketMQ-Version-Dubbo-Version-Seata-Version-—-—-—-—-—-—-2022-0-0-0-1-8-6-2-2-1-4-9-4-1-7-0-2022-0-0-0-RC2-1-8-6-2-2-1-4-9-4-1-7-0-native-rc2-2021-0-5-0-1-8-6-2-2-0-4-9-4-1-6-1-2-2-10-RC1-1-8-6-2-2-0-4-9-4-1-6-1-2022-0-0-0-RC1-1-8-6-2-2-1-RC-4-9-4-1-6-1-2-2-9-RELEASE-1-8-5-2-1-0-4-9-4-1-5-2-2021-0-4-0-1-8-5-2-0-4-4-9-4-1-5-2-2-2-8-RELEASE-1-8-4-2-1-0-4-9-3-1-5-1-2021-0-1-0-1-8-3-1-4-2-4-9-2-1-4-2-2-2-7-RELEASE-1-8-1-2-0-3-4-6-1-2-7-13-1-3-0-2-2-6-RELEASE-1-8-1-1-4-2-4-4-0-2-7-8-1-3-0-2021-1-or-2-2-5-RELEASE-or-2-1-4-RELEASE-or-2-0-4-RELEASE-1-8-0-1-4-1-4-4-0-2-7-8-1-3-0-2-2-3-RELEASE-or-2-1-3-RELEASE-or-2-0-3-RELEASE-1-8-0-1-3-3-4-4-0-2-7-8-1-3-0-2-2-1-RELEASE-or-2-1-2-RELEASE-or-2-0-2-RELEASE-1-7-1-1-2-1-4-4-0-2-7-6-1-2-0-2-2-0-RELEASE-1-7-1-1-1-4-4-4-0-2-7-4-1-1-0-0-2-1-1-RELEASE-or-2-0-1-RELEASE-or-1-5-1-RELEASE-1-7-0-1-1-4-4-4-0-2-7-3-0-9-0-2-1-0-RELEASE-or-2-0-0-RELEASE-or-1-5-0-RELEASE-1-6-3-1-1-1-4-4-0-2-7-3-0-7-1"><a href="#每个-Spring-Cloud-Alibaba-版本及其自身所适配的各组件对应版本如下表所示（注意，Spring-Cloud-Dubbo-从-2021-0-1-0-起已被移除出主干，不再随主干演进）：-Spring-Cloud-Alibaba-Version-Sentinel-Version-Nacos-Version-RocketMQ-Version-Dubbo-Version-Seata-Version-—-—-—-—-—-—-2022-0-0-0-1-8-6-2-2-1-4-9-4-1-7-0-2022-0-0-0-RC2-1-8-6-2-2-1-4-9-4-1-7-0-native-rc2-2021-0-5-0-1-8-6-2-2-0-4-9-4-1-6-1-2-2-10-RC1-1-8-6-2-2-0-4-9-4-1-6-1-2022-0-0-0-RC1-1-8-6-2-2-1-RC-4-9-4-1-6-1-2-2-9-RELEASE-1-8-5-2-1-0-4-9-4-1-5-2-2021-0-4-0-1-8-5-2-0-4-4-9-4-1-5-2-2-2-8-RELEASE-1-8-4-2-1-0-4-9-3-1-5-1-2021-0-1-0-1-8-3-1-4-2-4-9-2-1-4-2-2-2-7-RELEASE-1-8-1-2-0-3-4-6-1-2-7-13-1-3-0-2-2-6-RELEASE-1-8-1-1-4-2-4-4-0-2-7-8-1-3-0-2021-1-or-2-2-5-RELEASE-or-2-1-4-RELEASE-or-2-0-4-RELEASE-1-8-0-1-4-1-4-4-0-2-7-8-1-3-0-2-2-3-RELEASE-or-2-1-3-RELEASE-or-2-0-3-RELEASE-1-8-0-1-3-3-4-4-0-2-7-8-1-3-0-2-2-1-RELEASE-or-2-1-2-RELEASE-or-2-0-2-RELEASE-1-7-1-1-2-1-4-4-0-2-7-6-1-2-0-2-2-0-RELEASE-1-7-1-1-1-4-4-4-0-2-7-4-1-1-0-0-2-1-1-RELEASE-or-2-0-1-RELEASE-or-1-5-1-RELEASE-1-7-0-1-1-4-4-4-0-2-7-3-0-9-0-2-1-0-RELEASE-or-2-0-0-RELEASE-or-1-5-0-RELEASE-1-6-3-1-1-1-4-4-0-2-7-3-0-7-1" class="headerlink" title="每个 Spring Cloud Alibaba 版本及其自身所适配的各组件对应版本如下表所示（注意，Spring Cloud Dubbo 从 2021.0.1.0 起已被移除出主干，不再随主干演进）：|Spring Cloud Alibaba Version|Sentinel Version|Nacos Version|RocketMQ Version|Dubbo Version|Seata Version||—|—|—|—|—|—||2022.0.0.0|1.8.6|2.2.1|4.9.4||1.7.0||2022.0.0.0-RC2|1.8.6|2.2.1|4.9.4||1.7.0-native-rc2||2021.0.5.0|1.8.6|2.2.0|4.9.4||1.6.1||2.2.10-RC1|1.8.6|2.2.0|4.9.4||1.6.1||2022.0.0.0-RC1|1.8.6|2.2.1-RC|4.9.4||1.6.1||2.2.9.RELEASE|1.8.5|2.1.0|4.9.4||1.5.2||2021.0.4.0|1.8.5|2.0.4|4.9.4||1.5.2||2.2.8.RELEASE|1.8.4|2.1.0|4.9.3||1.5.1||2021.0.1.0|1.8.3|1.4.2|4.9.2|~|1.4.2||2.2.7.RELEASE|1.8.1|2.0.3|4.6.1|2.7.13|1.3.0||2.2.6.RELEASE|1.8.1|1.4.2|4.4.0|2.7.8|1.3.0||2021.1 or 2.2.5.RELEASE or 2.1.4.RELEASE or 2.0.4.RELEASE|1.8.0|1.4.1|4.4.0|2.7.8|1.3.0||2.2.3.RELEASE or 2.1.3.RELEASE or 2.0.3.RELEASE|1.8.0|1.3.3|4.4.0|2.7.8|1.3.0||2.2.1.RELEASE or 2.1.2.RELEASE or 2.0.2.RELEASE|1.7.1|1.2.1|4.4.0|2.7.6|1.2.0||2.2.0.RELEASE|1.7.1|1.1.4|4.4.0|2.7.4.1|1.0.0||2.1.1.RELEASE or 2.0.1.RELEASE or 1.5.1.RELEASE|1.7.0|1.1.4|4.4.0|2.7.3|0.9.0||2.1.0.RELEASE or 2.0.0.RELEASE or 1.5.0.RELEASE|1.6.3|1.1.1|4.4.0|2.7.3|0.7.1|"></a>每个 Spring Cloud Alibaba 版本及其自身所适配的各组件对应版本如下表所示（注意，Spring Cloud Dubbo 从 2021.0.1.0 起已被移除出主干，不再随主干演进）：<br>|Spring Cloud Alibaba Version|Sentinel Version|Nacos Version|RocketMQ Version|Dubbo Version|Seata Version|<br>|—|—|—|—|—|—|<br>|2022.0.0.0|1.8.6|2.2.1|4.9.4|<del>|1.7.0|<br>|2022.0.0.0-RC2|1.8.6|2.2.1|4.9.4|</del>|1.7.0-native-rc2|<br>|2021.0.5.0|1.8.6|2.2.0|4.9.4|<del>|1.6.1|<br>|2.2.10-RC1|1.8.6|2.2.0|4.9.4|</del>|1.6.1|<br>|2022.0.0.0-RC1|1.8.6|2.2.1-RC|4.9.4|<del>|1.6.1|<br>|2.2.9.RELEASE|1.8.5|2.1.0|4.9.4|</del>|1.5.2|<br>|2021.0.4.0|1.8.5|2.0.4|4.9.4|<del>|1.5.2|<br>|2.2.8.RELEASE|1.8.4|2.1.0|4.9.3|</del>|1.5.1|<br>|2021.0.1.0|1.8.3|1.4.2|4.9.2|~|1.4.2|<br>|2.2.7.RELEASE|1.8.1|2.0.3|4.6.1|2.7.13|1.3.0|<br>|2.2.6.RELEASE|1.8.1|1.4.2|4.4.0|2.7.8|1.3.0|<br>|2021.1 or 2.2.5.RELEASE or 2.1.4.RELEASE or 2.0.4.RELEASE|1.8.0|1.4.1|4.4.0|2.7.8|1.3.0|<br>|2.2.3.RELEASE or 2.1.3.RELEASE or 2.0.3.RELEASE|1.8.0|1.3.3|4.4.0|2.7.8|1.3.0|<br>|2.2.1.RELEASE or 2.1.2.RELEASE or 2.0.2.RELEASE|1.7.1|1.2.1|4.4.0|2.7.6|1.2.0|<br>|2.2.0.RELEASE|1.7.1|1.1.4|4.4.0|2.7.4.1|1.0.0|<br>|2.1.1.RELEASE or 2.0.1.RELEASE or 1.5.1.RELEASE|1.7.0|1.1.4|4.4.0|2.7.3|0.9.0|<br>|2.1.0.RELEASE or 2.0.0.RELEASE or 1.5.0.RELEASE|1.6.3|1.1.1|4.4.0|2.7.3|0.7.1|</h2><h1 id="IDEA"><a href="#IDEA" class="headerlink" title="IDEA"></a>IDEA</h1><h2 id="常用快捷键"><a href="#常用快捷键" class="headerlink" title="常用快捷键"></a>常用快捷键</h2><ul>
<li><strong>查询快捷键</strong><br>CTRL+N 查找类<br>CTRL+SHIFT+N 查找文件<br>CTRL+SHIFT+ALT+N 查 找类中的方法或变量<br>CIRL+B 找变量的来源<br>CTRL+ALT+B 找所有的子类<br>CTRL+SHIFT+B 找变量的 类<br>CTRL+G 定位行<br>CTRL+F 在当前窗口查找文本<br>CTRL+SHIFT+F 在指定窗口查找文本<br>CTRL+R 在 当前窗口替换文本<br>CTRL+SHIFT+R 在指定窗口替换文本<br>ALT+SHIFT+C 查找修改的文件<br>CTRL+E 最 近打开的文件<br>F3 向下查找关键字出现位置<br>SHIFT+F3 向上一个关键字出现位置<br>F4 查找变量来源<br>CTRL+ALT+F7 选 中的字符 查找工程出现的地方<br>CTRL+SHIFT+O 弹出显示查找内容</li>
<li><strong>自动代码</strong><br>ALT+回车 导入包,自动修正<br>CTRL+ALT+L 格式化代码<br>CTRL+ALT+I 自 动缩进<br>CTRL+ALT+O 优化导入的类和包<br>ALT+INSERT 生成代码(如 GET,SET 方法,构造函数等)<br>CTRL+E 或者 ALT+SHIFT+C 最近更改的代码<br>CTRL+SHIFT+SPACE 自动补全代码<br>CTRL+空格 代码提示<br>CTRL+ALT+SPACE 类 名或接口名提示<br>CTRL+P 方法参数提示<br>CTRL+J 自动代码<br>CTRL+ALT+T 把选中的代码放在 TRY{} IF{} ELSE{} 里</li>
<li><strong>复制快捷方式</strong><br>F5 拷贝文件快捷方式<br>CTRL+D 复制行<br>CTRL+X 剪 切,删除行<br>CTRL+SHIFT+V 可以复制多个文本</li>
<li><strong>高亮</strong><br>CTRL+F 选中的文字,高亮显示 上下跳到下一个或者上一个<br>F2 或 SHIFT+F2 高亮错误或警告快速定位<br>CTRL+SHIFT+F7 高亮显示多个关键字.</li>
<li><strong>其他快捷方式</strong><br>CTRL+SHIFT+U 大小写切换<br>CTRL+Z 倒退<br>CTRL+SHIFT+Z 向 前<br>CTRL+ALT+F12 资源管理器打开文件夹<br>ALT+F1 查找文件所在目录位置<br>SHIFT+ALT+INSERT 竖 编辑模式<br>CTRL+&#x2F; 注释&#x2F;&#x2F;<br>CTRL+SHIFT+&#x2F; 注释&#x2F;…&#x2F;<br>CTRL+W 选中代码，连续按会 有其他效果<br>CTRL+B 快速打开光标处的类或方法<br>ALT+ ←&#x2F;→ 切换代码视图<br>CTRL+ALT ←&#x2F;→ 返回上次编辑的位置<br>ALT+ ↑&#x2F;↓ 在方法间快速移动定位<br>SHIFT+F6 重构-重命名<br>CTRL+H 显 示类结构图<br>CTRL+Q 显示注释文档<br>ALT+1 快速打开或隐藏工程面板<br>CTRL+SHIFT+UP&#x2F;DOWN 代码 向上&#x2F;下移动。<br>CTRL+UP&#x2F;DOWN 光标跳转到第一行或最后一行下<br>ESC 光标返回编辑框<br>SHIFT+ESC 光 标返回编辑框,关闭无用的窗口</li>
</ul>
<h1 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h1><ol>
<li><a target="_blank" rel="noopener" href="https://cloud.tencent.com/developer/article/1701451">centos7安装Docker详细步骤（无坑版教程）-腾讯云开发者社区-腾讯云</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/abcde123_123/article/details/106244181">使用Docker搭建MySQL主从复制（一主一从）_使用docker搭建mysql主从复制(一主一从)-CSDN博客</a></li>
<li><a target="_blank" rel="noopener" href="https://cloud.tencent.com/developer/article/2364484">前端研发需要知道的Docker-腾讯云开发者社区-腾讯云</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/ilvjiale/article/details/129417768">Docker启动安装nacos（详情讲解，全网最细）_docker启动nacos-CSDN博客</a></li>
<li><a target="_blank" rel="noopener" href="https://cloud.tencent.com/developer/article/2353125">Docker部署RocketMQ4.x-腾讯云开发者社区-腾讯云</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/cheng1999_cn1/article/details/134536547?spm=1001.2014.3001.5506">2023最新青龙面板京东脚本库（11月3日，持续更新中）-CSDN博客</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/u011027547/article/details/130703685#:~:text=%E9%9D%92%E9%BE%99%E9%9D%A2%E6%9D%BF%E5%BA%94%E7%94%A8%E2%80%94%E2%80%94%E5%AE%89%E8%A3%85%E4%BE%9D%E8%B5%96%E6%8B%89%E5%8F%96%E4%BB%93%E5%BA%93%E8%BF%90%E8%A1%8C%E4%BA%AC%E4%B8%9C%E8%84%9A%E6%9C%AC%EF%BC%88%E4%BF%9D%E5%A7%86%E7%BA%A7%E5%9B%BE%E6%96%87%EF%BC%89%201%201.%20%E5%AE%89%E8%A3%85%E4%BE%9D%E8%B5%96%202%202.%20%E5%AE%9A%E6%97%B6%E8%A7%84%E5%88%99%203,6.%20%E8%8E%B7%E5%8F%96%E4%BA%AC%E4%B8%9C%E6%89%8B%E6%9C%BA%E7%89%88cookie%207%207.%20%E5%9C%A8%E9%9D%92%E9%BE%99%E9%9D%A2%E6%9D%BF%E4%B8%AD%E6%B7%BB%E5%8A%A0%E4%BA%AC%E4%B8%9Ccookie%208%208.%20%E6%B5%8B%E8%AF%95%E4%BB%BB%E6%84%8F%E4%B8%80%E4%B8%AA%E4%BA%AC%E4%B8%9C%E7%9A%84%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1">02. 青龙面板应用——安装依赖拉取仓库运行京东脚本（保姆级图文）_青龙面板脚本库-CSDN博客</a></li>
<li><a target="_blank" rel="noopener" href="https://docs.crawlab.cn/zh/guide/quick-start.html#%E9%85%8D%E7%BD%AE-docker-compose-yml">Crawlab 快速开始</a></li>
<li><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/660853187">IDEA常用快捷键集合(详解) - 知乎</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/kefranabg/readme-md-generator">GitHub - kefranabg&#x2F;readme-md-generator: 📄 CLI that generates beautiful README.md files</a></li>
</ol>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/%E8%BF%90%E7%BB%B4%E5%BC%80%E5%8F%91/" class="category-chain-item">运维开发</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/java/">#java</a>
      
        <a href="/tags/mysql/">#mysql</a>
      
        <a href="/tags/nacos/">#nacos</a>
      
        <a href="/tags/sentinel/">#sentinel</a>
      
        <a href="/tags/middleware/">#middleware</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>各种环境配置</div>
      <div>https://alleyf.github.io/2023/11/59c10a08fce4.html</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>作者</div>
          <div>fcs</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>发布于</div>
          <div>2023年11月18日</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>更新于</div>
          <div>2024年2月21日</div>
        </div>
      
      <div class="license-meta-item">
        <div>许可协议</div>
        <div>
          
            
            
              <a target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
              <span class="hint--top hint--rounded" aria-label="BY - 署名">
                <i class="iconfont icon-by"></i>
              </span>
              </a>
            
          
        </div>
      </div>
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2023/11/1b53210f2a27.html" title="Git-简记">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">Git-简记</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2023/11/c09639791c22.html" title="SpringCloud Alibaba-微服务进阶">
                        <span class="hidden-mobile">SpringCloud Alibaba-微服务进阶</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
  <article id="comments" lazyload>
    
  <div id="gitalk-container"></div>
  <script type="text/javascript">
    Fluid.utils.loadComments('#gitalk-container', function() {
      Fluid.utils.createCssLink('/css/gitalk.css')
      Fluid.utils.createScript('https://lib.baomitu.com/gitalk/1.7.2/gitalk.min.js', function() {
        var options = Object.assign(
          {"clientID":"636f2864e051a199b91c","clientSecret":"5185fd11115bbcd8d2f636bc80de6bed98ed14c1","repo":"Gitalk","owner":"Alleyf","admin":["Alleyf"],"language":"zh-CN","labels":["Gitalk"],"perPage":10,"pagerDirection":"last","distractionFreeMode":false,"createIssueManually":false,"proxy":"https://shielded-brushlands-08810.herokuapp.com/https://github.com/login/oauth/access_token"},
          {
            id: '4fcb7835a413f3e51a99c88f0829f7f3'
          }
        )
        var gitalk = new Gitalk(options);
        gitalk.render('gitalk-container');
      });
    });
  </script>
  <noscript>Please enable JavaScript to view the comments</noscript>


  </article>


          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  


  
  





  <script>
  Fluid.utils.createScript('https://lib.baomitu.com/mermaid/8.14.0/mermaid.min.js', function() {
    mermaid.initialize({"theme":"default"});
  });
</script>






    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://github.com/Alleyf" target="_blank" rel="nofollow noopener"><span>Alleyf</span></a> <i class="iconfont icon-love"></i> <a href="https://fcsy.fit" target="_blank" rel="nofollow noopener"><span>Homepage</span></a> 
    </div>
  
  
    <div class="statistics">
  
  

  
    
      <span id="busuanzi_container_site_pv" style="display: none">
        总访问量 
        <span id="busuanzi_value_site_pv"></span>
         次
      </span>
    
    
      <span id="busuanzi_container_site_uv" style="display: none">
        总访客数 
        <span id="busuanzi_value_site_uv"></span>
         人
      </span>
    
    
  
</div>

  
  
    <!-- 备案信息 ICP for China -->
    <div class="beian">
  <span>
    <a href="http://beian.miit.gov.cn/" target="_blank" rel="nofollow noopener">
      陕ICP备2022010038号
    </a>
  </span>
  
    
      <span>
        <a
          href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=2022010038"
          rel="nofollow noopener"
          class="beian-police"
          target="_blank"
        >
          
            <span style="visibility: hidden; width: 0">|</span>
            <img src="http://qnpicmap.fcsluck.top/pics/202311161820757.png" srcset="/img/loading.gif" lazyload alt="police-icon"/>
          
          <span>陕公网安备2022010038号</span>
        </a>
      </span>
    
  
</div>

  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.18.2/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      headingSelector : CONFIG.toc.headingSelector || 'h1,h2,h3,h4,h5,h6',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      collapseDepth   : CONFIG.toc.collapseDepth || 0,
      scrollSmooth    : true,
      headingsOffset  : -boardTop
    });
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.10/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  
      <script>
        if (!window.MathJax) {
          window.MathJax = {
            tex    : {
              inlineMath: { '[+]': [['$', '$']] }
            },
            loader : {
              load: ['ui/lazy']
            },
            options: {
              renderActions: {
                insertedScript: [200, () => {
                  document.querySelectorAll('mjx-container').forEach(node => {
                    let target = node.parentNode;
                    if (target.nodeName.toLowerCase() === 'li') {
                      target.parentNode.classList.add('has-jax');
                    }
                  });
                }, '', false]
              }
            }
          };
        } else {
          MathJax.startup.document.state(0);
          MathJax.texReset();
          MathJax.typeset();
          MathJax.typesetPromise();
        }
      </script>
    

  <script  src="https://lib.baomitu.com/mathjax/3.2.1/es5/tex-mml-chtml.js" ></script>

  <script  src="/js/local-search.js" ></script>

  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
<!-- hexo injector body_end start --><script src="/assets/mmedia/mmedia-loader.js"></script><!-- hexo injector body_end end --></body>
</html>

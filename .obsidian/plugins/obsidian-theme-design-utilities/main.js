/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

"use strict";var c=Object.defineProperty;var d=Object.getOwnPropertyDescriptor;var h=Object.getOwnPropertyNames;var m=Object.prototype.hasOwnProperty;var g=(n,e)=>{for(var t in e)c(n,t,{get:e[t],enumerable:!0})},p=(n,e,t,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of h(e))!m.call(n,s)&&s!==t&&c(n,s,{get:()=>e[s],enumerable:!(o=d(e,s))||o.enumerable});return n};var u=n=>p(c({},"__esModule",{value:!0}),n);var b={};g(b,{default:()=>r});module.exports=u(b);var i=require("obsidian"),r=class extends i.Plugin{async onload(){console.log("Theme Design Utilities Plugin loaded.");let e=4;this.addCommand({id:"freeze-obsidian",name:"Freeze Obsidian (with "+e.toString()+"s delay)",callback:()=>{this.freezeTimer(e)}}),this.addCommand({id:"toggle-devtools",name:"Toggle Devtools",callback:()=>electronWindow.toggleDevTools()}),this.addCommand({id:"test-notice",name:"Test Notice",callback:()=>new i.Notice(`I am a test notice. \u{1F44B} 

I will stay here until you click me.`,0)}),this.addCommand({id:"toggle-emulate-mobile",name:"Toggle mobile emulation",callback:()=>this.app.emulateMobile(!this.app.isMobile)}),this.addCommand({id:"cheatsheet-css-classes",name:"Cheatsheet \u2013 Obsidian CSS Classes",callback:()=>window.open("https://raw.githubusercontent.com/chrisgrieser/obsidian-theme-design-utilities/master/cheatsheets/css-classes.png")}),this.addCommand({id:"color-playground",name:"Open GitHub Folder with Color Playground files to download",callback:()=>window.open("https://github.com/chrisgrieser/obsidian-theme-design-utilities/tree/main/color-playground")}),this.addCommand({id:"toggle-dark-light-mode",name:"Toggle between Dark and Light Mode",callback:()=>this.toggleDarkMode()}),this.addCommand({id:"cycle-views",name:"Cycle between Source Mode, Live Preview, and Reading Mode",callback:()=>this.cycleViews()}),this.addCommand({id:"cycle-themes",name:"Cycle between the installed themes",callback:()=>this.cycleThemes()}),this.addCommand({id:"debugging-outline",name:"Toggle Red Outlines for Debugging",callback:()=>this.toggleDebuggingCSS()}),this.addCommand({id:"toggle-garbled-text",name:"Toggle Garbled Text",callback:()=>this.toggleGarbleText()}),this.addCommand({id:"test-body-class",name:'Toggle class ".foobar" for .app-container',callback:()=>this.toggleTestClass()}),this.addCommand({id:"version-info",name:"CSS Feature Compatibility / Tech Stack Versions",callback:()=>this.versionInfo()})}onunload(){console.log("Theme Design Utilities Plugin unloaded."),this.app.dom.appContainerEl.removeClass("foobar")}versionInfo(){let e=process.versions.chrome?.split(".")[0],t=process.versions.node.split(".")[0],o=process.versions.electron?.split(".")[0],s=[`Chrome Version: ${e}`,`Node Version: ${t}`,`Electron Version: ${o}`].join(`
`);new i.Notice(s,7*1e3)}freezeTimer(e){let t=new i.Notice(`\u26A0 Will freeze Obsidian in ${e}s`,(e-.2)*1e3);electronWindow.openDevTools();let o=0,s=setInterval(()=>{let a=(e-o).toFixed(1);t.setMessage(`\u26A0 Will freeze Obsidian in ${a}s`),o+=.1},100);setTimeout(()=>{debugger;clearInterval(s)},e*1e3)}cycleThemes(){let e=this.app.customCss.theme,t=[...Object.keys(this.app.customCss.themes),...this.app.customCss.oldThemes];if(t.length===0){new i.Notice("Cannot cycle themes since no community theme is installed.");return}t.push("");let o=(t.indexOf(e)+1)%t.length,s=t[o];s!==void 0&&this.app.customCss.setTheme(s)}toggleDarkMode(){let e=this.app.vault.getConfig("theme")==="obsidian",t="moonstone",o="obsidian";e?(this.app.setTheme(t),this.app.vault.setConfig("theme",t),this.app.workspace.trigger("css-change")):(this.app.setTheme(o),this.app.vault.setConfig("theme",o),this.app.workspace.trigger("css-change"))}cycleViews(){if(!this.app.workspace.getActiveViewOfType(i.MarkdownView)){new i.Notice("Not a regular note or no file open.");return}let o=this.app.workspace.getLeaf();if(!o){new i.Notice("Not a regular note or no file open.");return}let s=o.getViewState(),a;s.state.mode==="preview"?a="preview":s.state.mode==="source"&&s.state.source?a="source":a="live";let l=s;switch(a){case"preview":l.state.mode="source",l.state.source=!0,new i.Notice("Now: Source Mode",2e3);break;case"source":l.state.mode="source",l.state.source=!1,new i.Notice("Now: Live Preview",2e3);break;default:l.state.mode="preview",new i.Notice("Now: Reading Mode",2e3)}o.setViewState(l)}toggleDebuggingCSS(){let e=this.styleEl?.textContent,t="";e||(t="* {outline: red 1px solid !important}",this.styleEl=document.createElement("style"),this.styleEl.setAttribute("type","text/css"),document.head.appendChild(this.styleEl),this.register(()=>this.styleEl?.detach())),this.styleEl&&(this.styleEl.textContent=t),this.app.workspace.trigger("css-change")}toggleGarbleText(){let e=this.styleEl?.textContent,t="";e||(t="body *:not(:hover) { font-family: Flow Circular !important; }",this.styleEl=document.createElement("style"),this.styleEl.setAttribute("type","text/css"),document.head.appendChild(this.styleEl),this.register(()=>this.styleEl?.detach())),this.styleEl&&(this.styleEl.textContent=t),this.app.workspace.trigger("css-change")}toggleTestClass(){this.app.dom.appContainerEl.classList.value.includes("foobar")?this.app.dom.appContainerEl.removeClass("foobar"):this.app.dom.appContainerEl.addClass("foobar")}};

---
title: 各种环境配置
date: 2023-11-18 14:53:11
tags:
  - java
  - mysql
  - nacos
  - sentinel
sticky: 60
excerpt: 
author: fcs
---
![](https://picsum.photos/800/250)
> 一切安装启动的应用都要开启**防火墙 TCP 端口和云服务商防火墙规则**才能访问。


## Basic
- [ ] to-do
- [/] incomplete
- [x] done
- [-] canceled
- [>] forwarded
- [<] scheduling
## Extras
- [?] question
- [!] important

![image.png](http://qnpicmap.fcsluck.top/pics/202311191414745.png)

# Java
安装 jdk：
```shell
yum install java-1.8.0-openjdk
```
环境变量设置：
```profiles
#set java environment  
export JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.392.b08-2.el7_9.x86_64/jre           
export JRE_HOME=$JAVA_HOME/jre  
export CLASSPATH=$JAVA_HOME/lib:$JRE_HOME/lib:$CLASSPATH  
export PATH=$JAVA_HOME/bin:$JRE_HOME/bin:$PATH
```
刷新系统环境变量配置：
```shell
source /etc/profile
```
# 防火墙
## centos 7
 一、防火墙的开启、关闭、禁用命令
（1）设置开机启用防火墙：`systemctl enable firewalld.service`
（2）设置开机禁用防火墙：`systemctl disable firewalld.service`
（3）启动防火墙：`systemctl start firewalld`
（4）关闭防火墙：`systemctl stop firewalld`
（5）检查防火墙状态：`systemctl status firewalld` 
二、使用 firewall-cmd 配置端口
（1）查看防火墙状态：`firewall-cmd --state`
（2）重新加载配置：`firewall-cmd --reload`
（3）查看开放的端口：`firewall-cmd --list-ports`
（4）开启防火墙端口：`firewall-cmd --zone=public --add-port=9200/tcp --permanent`


# Nacos

1. 下载 nacos 压缩包
2. 解压并修改配置文件（单点 or 集群）
3. `sh startup.sh -m standalone` 单点启动

![image.png](http://qnpicmap.fcsluck.top/pics/202311181541807.png)

# Sentinel

1. 下载 [Sentinel](https://github.com/alibaba/Sentinel/releases) 的 jar 包上传至 linux 系统上
2. 使用 *nohup* 指令持久化后台运行 **jar 包**
3. 后端持久运行 jar 包：
`nohup java -Xms100m -Xmx100m -jar score-api-0.0.1-SNAPSHOT.jar&`

![image.png](http://qnpicmap.fcsluck.top/pics/202311181541977.png)


# Windows

## 关闭进程

```shell
taskkill /f /t /im nginx.exe
taskkill /f /pid <查询的PID号>
```

![image.png](http://qnpicmap.fcsluck.top/pics/202311182136214.png)
## 查看端口

```shell
netstat -ano | findstr <端口号>
netstat -ano | find "关键字"
```


# Linux

> **netstat** 参数含义：
> 	-a (all)显示所有选项，默认不显示 LISTEN 相关
> 	-t (tcp)仅显示 tcp 相关选项
> 	-u (udp)仅显示 udp 相关选项
> 	-n 拒绝显示别名，能显示数字的全部转化成数字。
> 	-l 仅列出有在 Listen (监听) 的服務状态
> 	-p 显示建立相关链接的程序名
> 	-r 显示路由信息，路由表
> 	-e 显示扩展信息，例如 uid 等
> 	-s 按各个协议进行统计
> 	-c 每隔一个固定时间，执行该 netstat 命令。

## 查看端口

```shell
netstat -tuln | grep :<端口号>
netstat -nplt #查看所有端口

```

## 查看程序

```shell
ps -ef | grep java #查询java进程的程序
```

## 关闭进程

```shell
kill -12 pid #安全关闭
kill -9 pid #强制关闭
```